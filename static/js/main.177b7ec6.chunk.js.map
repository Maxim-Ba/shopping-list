{"version":3,"sources":["redux/modalWindowReducer.js","redux/ItemListReducer.js","redux/titleOfListReduser.js","utils/clearList.js","config.js","redux/chatReducer.js","redux/loaderListReducer.js","redux/menuReducer.js","redux/userReducer.js","redux/loaderReducer.js","redux/listReducer.js","redux/store.js","websocket/websocket.js","components/DeletedItem/DeletedItem.jsx","components/Item/Item.js","components/GroupItem/GroupItem.js","components/Spinner/LoaderList.jsx","components/List/List.js","components/List/ListCC.js","components/Header/Header.js","components/Header/HeaderCC.js","components/AddButton/AddButton.js","components/AddButton/AddButtonCC.js","components/ModalWindow/ModalwindowWrapper.jsx","components/ModalWindow/ModalWindow.js","components/ModalWindow/ModalWindowCC.js","http/list.actions.js","components/Menu/BottomSubMenu/ColorRequired.jsx","components/Menu/BottomSubMenu/BottomSubMenu.jsx","components/Menu/BottomSubMenu/BottomSubMenuCC.js","components/Menu/ItemMenu.jsx","components/Menu/Menu.jsx","components/Menu/MenuCC.js","components/Messages/Messages.jsx","components/Messages/MessagesCC.js","http/chat.actions.js","http/user.action.js","components/Profile/OneListRow.jsx","components/SharedList/SharedList.jsx","components/SharedList/SharedListsCC.js","components/Profile/ChangePasswordWindow.jsx","components/Profile/LoginWindow.jsx","components/Profile/RegistrationWindow.jsx","components/Profile/Profile.jsx","components/Profile/ProfileCC.js","components/Spinner/Spinner.jsx","components/Spinner/SpinnerCC.js","components/AddButton/ClearButton.jsx","App.js","AppCC.js","serviceWorker.js","index.js"],"names":["initialState","isOpen","input","colorSelected","toggleWindowConditionAC","flag","type","payload","groups","color","items","deleted","addItemAC","item","setAllGroupsAC","data","title","_id","setNameofListAC","name","setColorofListAC","setIDListAC","id","setListFromStorage","JSON","parse","localStorage","getItem","dispatch","a","error","console","log","API_URL","API_URL_WS","defaultState","users","chat","ws","updateChatAC","updateUserAC","setWebsocketAC","loaderList","isOpenMenu","isOpenMessages","toggleMenuWindowAC","currentUser","isAuth","setUserAC","user","loader","lists","sharedLists","setListOfListsAC","reducers","combineReducers","itemListReducer","state","action","map","filter","itemOfList","index","indexForRemove","findIndex","num","modalWindowReducer","titleOfListReduser","menuReducer","userReducer","removeItem","loaderReducer","listReducer","objectList","chatReducer","loaderListReducer","store","createStore","applyMiddleware","thunk","openWS","reconnect","onopen","event","send","stringify","firstConnectWS","getState","email","messageListenerWS","onmessage","length","alert","listID","userID","message","updateGroupsWS","updateUserWS","userEmail","onCloseWS","onclose","info","code","reason","newWS","WebSocket","DeletedItem","handleClick","props","addItem","removeFromDeleted","className","onClick","this","React","Component","Item","deleteItem","style","backgroundColor","minWidth","GroupItem","createItems","arr","CSSTransition","in","timeout","classNames","enter","exit","exitActive","mountOnEnter","unmountOnExit","key","LoaderList","role","List","createGroupItems","createDeletedItems","prevProps","deletedItems","setItem","updateDeletedAndGroups","listLoader","ListCC","connect","inputValue","closeModalWindow","deleteItemAC","removeFromDeletedAC","Header","e","toggleMenuWindow","titleColor","to","titleList","xmlns","width","height","fill","viewBox","d","fillRule","HeaderCC","AddButton","toggleWindow","disabled","AddButtonCC","ModalWindowWrapper","handleSubmit","preventDefault","toggleModalWindow","changeInput","handleInput","target","value","handleSelectColor","selectColor","displayColorsBtn","colors","selectedColor","colorBtn","stopPropagation","onSubmit","placeholder","onChange","required","ModalWindow","setState","isOpenAlertWindow","enterActive","onExited","arg","ModalWindowCC","getLists","axios","get","headers","Authorization","response","getList","listId","getSharedList","saveList","put","ColorRequired","visible","BottomSubMenu","handleChangeComplete","hex","colorRequire","handleClickDelete","menuLocaleState","isOpenSubmenu","isOpenEditTitle","isOpenCreateNewList","handleClickEdit","valueTitle","setColorRequire","handleClickCreateNew","ceateList","setTimeout","onChangeComplete","deleteCurrentList","deleteList","BottomSubMenuCC","post","delete","ItemMenu","titleSubMenuLinks","setMenuStateHandler","Menu","closeAlertWindow","saveListHandler","activeClassName","MenuCC","Messages","burgerClicked","isOpenForm","messageField","newUserInput","getChat","window","innerWidth","userid","addNewUser","addForm","handleClickBurger","msg","setFieldValue","sendMessageHandle","MessagesCC","updateChat","updateUser","messages","registration","password","OneListRow","nowSelected","list","selectList","SharedList","i","handleSelectList","selectedListId","SharedListsCC","ChangePasswordWindow","useState","setPassword","newPassword","setNewPassword","newPasswordDouble","setNewPasswordDouble","submitDisabled","setSubmitDisabled","useEffect","checkNewPassword","closeChPasForm","changePasswordFormIsOpen","htmlFor","setnewpassword","LoginWindow","setEmail","closeForm","loginWindowIsOpen","aria-describedby","loginHandler","RegistrationWindow","redistrationWindowIsOpen","registrationHandler","Profile","shareListForm","login","p","newP","changePassword","сolor","openSendfield","clearLists","logout","close","ProfileCC","token","wS","location","protocol","API_URL_WSS","Spinner","SpinnerCC","ClearButton","useDispatch","App","readyState","path","history","AppCC","showMessages","showMessagesAC","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","unregister","catch"],"mappings":"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","file":"static/js/main.177b7ec6.chunk.js","sourcesContent":["const initialState = {\r\n  isOpen: false,\r\n  input: \"\",\r\n  colorSelected: \"red\",\r\n};\r\n\r\nconst TOGGLE_WINDOW_CONDITION = \"TOGGLE_WINDOW_CONDITION\";\r\n// const CHANGE_INPUT = \"CHANGE_INPUT\";\r\nconst SELECT_COLOR = \"SELECT_COLOR\";\r\n\r\nexport const toggleWindowConditionAC = (flag) => ({\r\n  type: TOGGLE_WINDOW_CONDITION,\r\n  payload: flag,\r\n});\r\n// export const changeInputAC = (value) => ({\r\n//   type: CHANGE_INPUT,\r\n//   payload: value,\r\n// });\r\nexport const selectColorAC = (color) => ({\r\n  type: SELECT_COLOR,\r\n  payload: color,\r\n});\r\nexport const modalWindowReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_WINDOW_CONDITION:\r\n      return { ...state, isOpen: action.payload };\r\n    // case CHANGE_INPUT:\r\n    //   return { ...state, input: action.payload };\r\n    case SELECT_COLOR:\r\n      return { ...state, colorSelected: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  groups: [\r\n    {\r\n      color: \"red\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"green\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"blue\",\r\n      items: []\r\n    },\r\n    {\r\n      color: \"gray\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"cyan\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"yellow\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"indigo\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"midnightblue\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"salmon\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"orange\",\r\n      items: [],\r\n    },\r\n  ],\r\n  deleted: [],\r\n};\r\n\r\nconst ADD_ITEM = \"ADD_ITEM\";\r\nconst DELETE_ITEM = \"DELETE_ITEM\";\r\nconst REMOVE_FROM_DELETED = \"REMOVE_FROM_DELETED\";\r\nconst SET_ALL_GROUPS = \"SET_ALL_GROUPS\";\r\nconst SET_GROUPS = \"SET_GROUPS\";\r\n\r\nexport const addItemAC = (item, color) => {\r\n  return {\r\n    type: ADD_ITEM,\r\n    item: item,\r\n    color: color,\r\n  };\r\n};\r\nexport const deleteItemAC = (item, color, index) => {\r\n  return {\r\n    type: DELETE_ITEM,\r\n    item: item,\r\n    color: color,\r\n    index: index,\r\n  };\r\n};\r\nexport const removeFromDeletedAC = (item, color) => {\r\n  return {\r\n    type: REMOVE_FROM_DELETED,\r\n    item: item,\r\n    color: color,\r\n\r\n  };\r\n};\r\nexport const setAllGroupsAC = (data) => {\r\n  return {\r\n    type: SET_ALL_GROUPS,\r\n    payload: data\r\n\r\n  };\r\n};\r\nexport const setOnlyGroupsAC = (groups) => {\r\n  return {\r\n    type: SET_GROUPS,\r\n    payload: groups\r\n  };\r\n};\r\n\r\nexport const itemListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? { ...item, items: [...item.items, action.item] }\r\n            : item\r\n        ),\r\n      };\r\n    case DELETE_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? {\r\n                ...item,\r\n                items: item.items.filter(\r\n                  (itemOfList, index) => action.index !== index\r\n                ),\r\n              }\r\n            : item\r\n        ),\r\n        deleted: [\r\n          ...state.deleted,\r\n          { items: action.item, color: action.color, index: action.index },\r\n        ],\r\n      };\r\n    case REMOVE_FROM_DELETED:\r\n      const indexForRemove = state.deleted.findIndex(item=>(item.color === action.color && item.items === action.item)); \r\n      return {\r\n        ...state,\r\n        deleted: state.deleted.filter((item, num) => num !== indexForRemove),\r\n      };\r\n      case SET_ALL_GROUPS:\r\n        return {\r\n          ...state,\r\n          groups: [...action.payload.groups],\r\n          deleted: [...action.payload.deleted],\r\n        };\r\n        case SET_GROUPS:\r\n          return {\r\n            ...state,\r\n            groups: [...action.payload],\r\n          };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  \r\n      title: \"Список покупок\",\r\n      color: \"#007bff\",\r\n      _id:''\r\n};\r\nconst SET_TITLE = \"SET_TITLE\";\r\nconst SET_COLOR = \"SET_COLOR\";\r\nconst SET_ID = \"SET_ID\";\r\n\r\n\r\n\r\nexport const setNameofListAC = (name) => {\r\n  return {\r\n    type: SET_TITLE,\r\n    payload: name,\r\n  };\r\n};\r\nexport const setColorofListAC = (color) => {\r\n  return {\r\n    type: SET_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\nexport const setIDListAC = (id) => {\r\n  return {\r\n    type: SET_ID,\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const titleOfListReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TITLE:\r\n      return {\r\n        ...state,\r\n        title: action.payload,\r\n      };\r\n    case SET_COLOR:\r\n      return {\r\n        ...state,\r\n        color: action.payload,\r\n      };\r\n      case SET_ID:\r\n      return {\r\n        ...state,\r\n        _id: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport function saveOnLocStorage(groups, deleted) {\r\n  localStorage.setItem('groups',JSON.stringify(groups) );\r\n  localStorage.setItem('deleted', JSON.stringify(deleted));\r\n}\r\nexport function clearLocStorage() {\r\n  localStorage.setItem('groups', null);\r\n  localStorage.setItem('deleted', null);\r\n\r\n}\r\n\r\n\r\nexport function setListFromStorage() {\r\n  if (!JSON.parse(localStorage.getItem('groups'))) {\r\n    return async (dispatch)=>{};\r\n  }\r\n  return async (dispatch)=>{\r\n    const groups = JSON.parse(localStorage.getItem('groups'));\r\n    const deleted = JSON.parse(localStorage.getItem('deleted'));\r\n    try {\r\n        dispatch(setAllGroupsAC({groups, deleted}));\r\n        //------------------------------------------\r\n        dispatch(setIDListAC(''));\r\n        dispatch(setColorofListAC(\"#007bff\"));\r\n        dispatch(setNameofListAC(\"Список покупок\"));\r\n      \r\n    } catch (error) {\r\n      console.log(error); \r\n    }\r\n  };\r\n\r\n  \r\n}","export const API_URL = 'https://safe-taiga-47540.herokuapp.com/';\r\nexport const API_URL_WS = 'ws://safe-taiga-47540.herokuapp.com/';\r\nexport const API_URL_WSS = 'wss://safe-taiga-47540.herokuapp.com/';\r\n","export const defaultState = {\r\n  users: [],\r\n  chat: [],\r\n  ws: null,\r\n};\r\n\r\nconst UPDATE_CHAT = \"UPDATE_CHAT\";\r\nconst UPDATE_USERS = \"UPDATE_USERS\";\r\nconst SET_WEBSOCKET = \"SET_WEBSOCKET\";\r\n//action creater\r\n\r\nexport const updateChatAC = (chat) => ({ type: UPDATE_CHAT, payload: chat });\r\nexport const updateUserAC = (users) => ({ type: UPDATE_USERS, payload: users });\r\nexport const setWebsocketAC = (ws) => ({ type: SET_WEBSOCKET, payload: ws });\r\n\r\nexport function chatReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.payload],\r\n      };\r\n    case UPDATE_CHAT:\r\n      return { ...state, chat: [...action.payload] };\r\n    case SET_WEBSOCKET:\r\n      return { ...state, ws: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const defaultState = {\r\n  loaderList: false,\r\n};\r\n\r\nconst SHOW_LOADER = \"SHOW_LOADER\";\r\nconst HIDE_LOADER = \"HIDE_LOADER\";\r\n\r\nexport function loaderListReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loaderList: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loaderList: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showListLoaderAC = () => ({ type: SHOW_LOADER });\r\nexport const hideListLoaderAC = () => ({ type: HIDE_LOADER });\r\n","const initialState = {\r\n  isOpenMenu:   false,\r\n  isOpenMessages: false\r\n\r\n};\r\n\r\nconst TOGGLE_MENU = \"TOGGLE_MENU\";\r\nconst CREATE_NEW_SHOP_LIST = \"CREATE_NEW_SHOP_LIST\";\r\nconst DELETE_THIS_SHOP_LIST = \"DELETE_THIS_SHOP_LIST\";\r\n\r\nconst SHOW_MESSAGES = \"SHOW_MESSAGES\";\r\n\r\nexport const toggleMenuWindowAC = (flag) => ({\r\n  type: TOGGLE_MENU,\r\n  payload: flag,\r\n});\r\nexport const createNewShopListAC = (flag) => ({\r\n  type: CREATE_NEW_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const deleteCurrentListAC = (flag) => ({\r\n  type: DELETE_THIS_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const showMessagesAC = (flag) => ({\r\n  type: SHOW_MESSAGES,\r\n  payload: flag,\r\n});\r\n\r\n\r\n\r\nexport const menuReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_MENU:\r\n      return { ...state, isOpenMenu: action.payload };\r\n      case SHOW_MESSAGES:\r\n        return { ...state, isOpenMenu: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\nconst defaultState = {\r\n  currentUser: {},\r\n  isAuth: false,\r\n};\r\n\r\nconst SET_USER = \"SET_USER\";\r\nconst LOGOUT = \"LOGOUT\";\r\nconst CHANGE_EMAIL = \"CHANGE_EMAIL\";\r\n//action creater\r\n\r\nexport const setUserAC = user => ({type: SET_USER, payload: user});\r\nexport const logoutAC = () => ({ type: LOGOUT });\r\nexport const changeUserEmailAC = (email) => ({type: CHANGE_EMAIL, payload: email});// доделать\r\nexport function userReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state, currentUser: action.payload, isAuth: true};\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"token\");\r\n      return {...state, currentUser: {},isAuth: false};\r\n      case CHANGE_EMAIL:\r\n      return {...state, currentUser: {},isAuth: false};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","const defaultState = {\r\n  loader: false,\r\n};\r\n\r\nconst SHOW_LOADER = \"SHOW_LOADER\";\r\nconst HIDE_LOADER = \"HIDE_LOADER\";\r\n\r\nexport function loaderReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loader: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loader: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showLoaderAC = () => ({ type: SHOW_LOADER });\r\nexport const hideLoaderAC = () => ({ type: HIDE_LOADER });\r\n","const initialState = {\r\n  lists: [],\r\n  sharedLists:[],\r\n};\r\n\r\nconst SAVE_LIST = \"SAVE_LIST\";\r\nconst DELETE_LIST = \"DELETE_LIST\";\r\nconst SET_LIST_OF_LISTS = \"SET_LIST_OF_LISTS\";\r\nconst SET_SHARED_LISTS = \"SET_SHARED_LISTS\";\r\nconst CLEAR_LISTS = \"CLEAR_LISTS\";\r\n\r\nexport const saveListAC = (list) => ({\r\n  type: SAVE_LIST,\r\n  payload: list,\r\n});\r\n\r\nexport const deleteListAC = () => ({\r\n  type: DELETE_LIST,\r\n});\r\nexport const setListOfListsAC = (lists) => ({\r\n  type: SET_LIST_OF_LISTS,\r\n  payload: lists,\r\n});\r\nexport const setSharedListsAC = (lists) => ({\r\n  type: SET_SHARED_LISTS,\r\n  payload: lists,\r\n});\r\n\r\nexport const clearListsAC = () => ({\r\n  type: CLEAR_LISTS,\r\n});\r\n\r\nexport const listReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SAVE_LIST:\r\n      return { ...state, isOpen: action.payload };\r\n\r\n    case DELETE_LIST:\r\n      return { ...state, colorSelected: action.payload };\r\n    \r\n    case SET_LIST_OF_LISTS:\r\n      return {\r\n        ...state,\r\n        lists: action.payload.map((objectList) => ({\r\n          name: objectList.name,\r\n          color: objectList.color,\r\n          _id: objectList._id,\r\n        })),\r\n      };\r\n      case SET_SHARED_LISTS:\r\n        return {\r\n          ...state,\r\n          sharedLists: action.payload.map((objectList) => ({\r\n            name: objectList.name,\r\n            color: objectList.color,\r\n            _id: objectList._id,\r\n          })),\r\n        };      \r\n    case CLEAR_LISTS:\r\n      return { ...state, lists:[] };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware  } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {itemListReducer} from './ItemListReducer';\r\nimport {modalWindowReducer} from './modalWindowReducer';\r\nimport {titleOfListReduser} from './titleOfListReduser';\r\nimport {menuReducer} from './menuReducer';\r\nimport {userReducer} from './userReducer';\r\nimport {loaderReducer} from './loaderReducer';\r\nimport {listReducer} from './listReducer';\r\nimport {chatReducer} from './chatReducer';\r\nimport {loaderListReducer} from './loaderListReducer';\r\n\r\n\r\nconst reducers = combineReducers({\r\n  itemListReducer,\r\n  modalWindowReducer,\r\n  titleOfListReduser,\r\n  menuReducer,\r\n  userReducer,\r\n  loaderReducer,\r\n  listReducer,\r\n  chatReducer,\r\n  loaderListReducer,\r\n\r\n});\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunk));","import { API_URL_WS } from \"../config\";\r\nimport { setWebsocketAC, updateChatAC } from \"../redux/chatReducer\";\r\nimport { setAllGroupsAC, setOnlyGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { hideListLoaderAC, showListLoaderAC } from \"../redux/loaderListReducer\";\r\nimport { store } from \"../redux/store\";\r\nimport { setColorofListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport const openWS = async (ws, reconnect = null) => {\r\n  ws.onopen = (event) => {\r\n    reconnect\r\n      ? ws.send(\r\n          JSON.stringify({\r\n            event: \"connection\",\r\n          })\r\n        )\r\n      : firstConnectWS(\r\n          ws,\r\n          store.getState().titleOfListReduser._id,\r\n          store.getState().userReducer.currentUser.id,\r\n          store.getState().userReducer.currentUser.email\r\n        );\r\n  };\r\n};\r\n\r\nexport const messageListenerWS = (ws) => {\r\n  try {\r\n    ws.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      switch (data.event) {\r\n        case \"updateUser\":\r\n          if (data.users.length === 0) {\r\n            alert('пользователь не найден');\r\n            break;\r\n          }\r\n          if (data.users==='Произошла ошибка') {\r\n            alert('Произошла ошибка');\r\n          }\r\n          break;\r\n        case \"wellDone\":\r\n          const listID = store.getState().titleOfListReduser._id;\r\n          const userID = store.getState().userReducer.currentUser.id;\r\n          const email = store.getState().userReducer.currentUser.email;\r\n          listID\r\n            ? firstConnectWS(ws, listID, userID, email)\r\n            : console.log(listID, \"listID on firstConnectWS\");\r\n          break;\r\n        case \"updateChat\":\r\n          store.dispatch(updateChatAC(data.message));\r\n          break;\r\n        case \"updateGroups\":\r\n          store.dispatch(setOnlyGroupsAC(data.groups));\r\n          store.dispatch(hideListLoaderAC());\r\n          break;\r\n        case \"updateDeletedAndGroups\":\r\n          store.dispatch(\r\n            setAllGroupsAC({ groups: data.groups, deleted: data.deleted })\r\n          );\r\n          store.dispatch(hideListLoaderAC());\r\n          break;\r\n        case \"sharedList\":\r\n          alert(\"С вами поделились списком\");\r\n          break;\r\n        case \"updateNameOfList\":\r\n          store.dispatch(setNameofListAC(data.name));\r\n          break;\r\n        case \"updateColorOfList\":\r\n          store.dispatch(setColorofListAC(data.color));\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  } catch (error) {}\r\n};\r\n\r\nexport const updateChatWS = (ws, message, user, email, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateChat\",\r\n      message,\r\n      user,\r\n      email,\r\n      listID,\r\n    })\r\n  );\r\n};\r\n\r\nexport const updateGroupsWS = (ws, groups, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateGroups\",\r\n      groups,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n  store.dispatch(showListLoaderAC());\r\n};\r\nexport const updateUserWS = (ws, listID, userEmail) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateUser\",\r\n      listID,\r\n      userEmail,\r\n    })\r\n  );\r\n};\r\nexport const updateDeletedAndGroups = (ws, groups, deleted, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateDeletedAndGroups\",\r\n      groups,\r\n      deleted,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n  store.dispatch(showListLoaderAC());\r\n};\r\n\r\nexport const firstConnectWS = (ws, listID, userID, email) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"firstConnect\",\r\n      listID,\r\n      userID,\r\n      user: email,\r\n    })\r\n  );\r\n};\r\n\r\nexport const changeListID = (ws, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"changeListID\",\r\n      listID,\r\n    })\r\n  );\r\n};\r\nexport const onCloseWS = (ws) => {\r\n  ws.onclose = (event) => {\r\n    console.info(`WebSocket closed with code ${event.code}! ${event.reason}`);\r\n    store.dispatch(setWebsocketAC(null)); // ws = null\r\n    if (event.code === 1000) {\r\n      return;\r\n      // прерываемся если подключение установлено\r\n    }\r\n    let newWS;\r\n    do {\r\n      newWS = new WebSocket(API_URL_WS + \"api/chat/\");\r\n    } while (!newWS);\r\n    store.dispatch(setWebsocketAC(newWS));\r\n    openWS(newWS, true);\r\n    messageListenerWS(newWS);\r\n    onCloseWS(newWS);\r\n    // подключение\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\n\r\n\r\n\r\nclass DeletedItem extends React.Component {\r\n  handleClick = ()=>{\r\n    this.props.addItem(this.props.item.items, this.props.item.color);\r\n    this.props.removeFromDeleted(this.props.item.items, this.props.item.color);\r\n  }\r\n  render() { \r\n    return ( \r\n      \r\n      <div className=\"deleted-item alert-dark rounded mb-1\" onClick={this.handleClick}>\r\n        {this.props.item.items}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeletedItem;","import React from 'react';\r\n\r\nexport class Item extends React.Component {\r\n  handleClick() {\r\n    this.props.deleteItem(this.props.item, this.props.color, this.props.index);\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className='item rounded container d-flex py-1 pl-1'\r\n        onClick={() => this.handleClick()}\r\n      >\r\n        <div className=\"row w-100\">\r\n          <div className='rounded col-2 col-md-1' >\r\n            <div className='item__wrapper h-100 rounded' style={{ backgroundColor: this.props.color, minWidth:24 }}>\r\n\r\n            </div>\r\n          </div>\r\n          <div className='item__name col-10 col-md-11' >\r\n            <p className='m-0 text-left'>\r\n              {this.props.item}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { Item } from \"../Item/Item\";\r\n\r\nexport class GroupItem extends React.Component {\r\n  createItems = (arr) => {\r\n    return arr.items.map((item, index) => {\r\n      return (\r\n        <CSSTransition\r\n        in={true}\r\n\r\n          timeout={1000}\r\n          classNames={{\r\n            enter: \"item-enter\",\r\n            exit: \"item-exit\",\r\n            exitActive: \"item-exit-done\",\r\n          }}\r\n          mountOnEnter\r\n          unmountOnExit\r\n          key={index}\r\n        >\r\n          <Item\r\n            key={index}\r\n            index={index}\r\n            item={item}\r\n            color={arr.color}\r\n            deleteItem={this.props.deleteItem}\r\n          />\r\n          \r\n        </CSSTransition>\r\n      );\r\n    });\r\n  };\r\n  render() {\r\n    if (this.props.item.items.length === 0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"group-items border\">\r\n        {this.createItems(this.props.item)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\n\r\nclass LoaderList extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"loader-list__wrapper\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    );\r\n  };\r\n};\r\n\r\nexport { LoaderList };","import React from \"react\";\r\nimport { saveOnLocStorage } from \"../../utils/clearList\";\r\nimport { updateDeletedAndGroups, updateGroupsWS } from \"../../websocket/websocket\";\r\nimport DeletedItem from \"../DeletedItem/DeletedItem\";\r\nimport { GroupItem } from \"../GroupItem/GroupItem\";\r\nimport { LoaderList } from \"../Spinner/LoaderList\";\r\n\r\nexport class List extends React.Component {\r\n  createGroupItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <GroupItem key={index} item={item} deleteItem={this.props.deleteItem} />\r\n      );\r\n    });\r\n  };\r\n  createDeletedItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <DeletedItem\r\n          key={index}\r\n          item={item}\r\n          addItem={this.props.addItem}\r\n          removeFromDeleted={this.props.removeFromDeleted}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n\r\n  componentDidUpdate(prevProps){\r\n    if (!this.props.isAuth) {\r\n      saveOnLocStorage(this.props.groups, this.props.deletedItems);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && (prevProps.deletedItems === this.props.deletedItems) &&(JSON.stringify(prevProps.groups) !== JSON.stringify(this.props.groups)) ) {\r\n      updateGroupsWS(this.props.ws, this.props.groups, this.props.listID, this.props.currentUser.id);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && ( JSON.stringify(prevProps.deletedItems) !==  JSON.stringify(this.props.deletedItems))) {\r\n      updateDeletedAndGroups(this.props.ws, this.props.groups, this.props.deletedItems, this.props.listID, this.props.currentUser.id);\r\n    }\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"list border border-dark flex-grow-1 overflow-x-hidden\" >\r\n        {this.props.listLoader && <LoaderList />}\r\n        <div className=\"top mb-1\">\r\n          {this.createGroupItems(this.props.groups)}\r\n        </div>\r\n        {this.props.deletedItems.length !== 0 ? (\r\n          <div className=\"bottom border-top border-dark rounded pt-1 alert-secondary\">\r\n            {this.createDeletedItems(this.props.deletedItems)}\r\n          </div>\r\n        ) : null}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { List } from './List';\r\nimport {  addItemAC, deleteItemAC,removeFromDeletedAC } from '../../redux/ItemListReducer';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  groups: state.itemListReducer.groups,\r\n  deletedItems: state.itemListReducer.deleted,\r\n  inputValue: state.modalWindowReducer.input,\r\n  isAuth: state.userReducer.isAuth,\r\n  ws: state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser:state.userReducer.currentUser,\r\n  listLoader: state.loaderListReducer.loaderList,\r\n\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>{dispatch(addItemAC(item, color));},\r\n    closeModalWindow: (flag) => {dispatch(toggleWindowConditionAC(flag));},\r\n    deleteItem: (item, color, index) => {dispatch(deleteItemAC(item, color, index));},\r\n    removeFromDeleted: (item, color) => {dispatch(removeFromDeletedAC(item, color));},\r\n    \r\n  });\r\n};\r\n\r\nexport const ListCC = connect(mapStateToProps, mapDispatchToProps)(List);","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  handleClick = (e) => {\r\n    this.props.toggleMenuWindow(true);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"d-flex justify-content-center align-items-center my-2 p-0 container-fluid\">\r\n        <div className=\"row container-fluid\">\r\n          <div className=\"col-12 col-sm-3 container-sm p-0 d-flex align-items-center\">\r\n            <button\r\n              className=\"button btn btn-primary container-fluid p-0 h-100\"\r\n              style={{ backgroundColor: this.props.titleColor }}\r\n              onClick={(e) => this.handleClick(e)}\r\n            >\r\n              Меню\r\n            </button>\r\n          </div>\r\n\r\n          <h3\r\n            className=\"m-0 p-0 col-12 col-sm-7 pb-2\"\r\n            style={{ color: this.props.titleColor }}\r\n          >\r\n            <NavLink to=\"/\"> {this.props.titleList}</NavLink>\r\n          </h3>\r\n\r\n          <div className=\"col-12 col-sm-2 d-flex justify-content-center\">\r\n            <div\r\n              className=\"d-flex justify-content-center align-items-center rounded-circle avatar\"\r\n              style={{ backgroundColor: this.props.titleColor }}\r\n            >\r\n              <NavLink\r\n                to=\"/profile\"\r\n                className=\"w-100 h-100 d-flex justify-content-center align-items-center\"\r\n              >\r\n                <div style={{color:'black'}}>\r\n                  {this.props.isAuth ? (\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"20\"\r\n                      height=\"20\"\r\n                      fill=\"currentColor\"\r\n                      className=\"bi bi-person-fill\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"20\"\r\n                      height=\"20\"\r\n                      fill=\"currentColor\"\r\n                      className=\"bi bi-person-dash\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M11 7.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Header };\r\n","import { connect } from \"react-redux\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { Header } from \"./Header\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleList: state.titleOfListReduser.title,\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n  };\r\n};\r\nexport const HeaderCC = connect(mapDispatchToState, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\n\r\nexport class AddButton extends React.Component {\r\n  handleClick = () => {\r\n    this.props.toggleWindow(true);\r\n  };\r\n  render() {\r\n    return (\r\n      <button\r\n        className=\"btn btn-primary rounded-circle button-crear-add d-flex\"\r\n        onClick={this.handleClick}\r\n        style={{backgroundColor:this.props.titleColor}}\r\n        disabled={this.props.listLoader}\r\n      >\r\n        <svg\r\n          width=\"1.5em\"\r\n          height=\"1.5em\"\r\n          viewBox=\"0 0 16 16\"\r\n          className=\"bi bi-plus\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z\"\r\n          />\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { AddButton } from './AddButton';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  listLoader: state.loaderListReducer.loaderList,\r\n  \r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>({\r\n  toggleWindow: (flag) =>{\r\n    return dispatch(toggleWindowConditionAC(flag));\r\n  }\r\n});\r\n\r\nexport const AddButtonCC = connect( mapDispatchToState, mapDispatchToProps)(AddButton); ","import React from \"react\";\r\nimport { updateGroupsWS } from \"../../websocket/websocket\";\r\nexport class ModalWindowWrapper extends React.Component {\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    this.props.addItem(this.props.inputValue, this.props.colorSelected);\r\n    this.props.toggleModalWindow(false);\r\n    // this.props.ws && updateGroupsWS(this.props.ws, this.props.groups, this.props.listID);\r\n    this.props.changeInput(\"\");\r\n\r\n  };\r\n  \r\n  handleInput = (e) => {\r\n    this.props.changeInput(e.target.value);\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-start mt-3 w-100 flex-wrap\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n    \r\n          <div\r\n            className=\"modal-window__wraper border border-primary rounded-top form-group m-0 row justify-content-md-center col-lg-6 col-md-8 col-sm-10 col-12 h-50\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <form\r\n              className=\"modal-window__form d-flex flex-column p-3 container-fluid\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <div className=\"modal-window__input-container row m-0\">\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-9 mb-1\">\r\n                <input\r\n                  placeholder=\"Введите название товара\"\r\n                  type=\"text\"\r\n                  onChange={(e) => this.handleInput(e)}\r\n                  className=\"w-100 h-100 modal-window__input\"\r\n                  required\r\n                />\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-3 p-0\">\r\n                  <button className=\"btn btn-secondary\" type=\"submit\">\r\n                    Добавить\r\n                  </button>\r\n                </div>\r\n                \r\n              </div>\r\n              {this.displayColorsBtn(\r\n                this.props.colors,\r\n                this.props.colorSelected\r\n              )}\r\n            </form>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { ModalWindowWrapper } from \"./ModalwindowWrapper\";\r\nimport \"../../App.css\";\r\n\r\nexport class ModalWindow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      input: ''\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.toggleModalWindow(false);\r\n    this.props.addItem(this.state.input, this.props.colorSelected);\r\n      \r\n    this.setState({input: ''});\r\n  };\r\n  handleClick = () => {\r\n    this.props.toggleModalWindow(false);\r\n  };\r\n  handleInput = (e) => {\r\n    this.setState({input: e.target.value});\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-around mt-3 w-75\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\" vw-100 row modal-window d-flex fixed-top justify-content-center align-items-end container-fluid m-0 \"\r\n        onClick={(e) => this.handleClick(e)}\r\n      >\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={1000}\r\n          classNames={{\r\n            enter: \"alert-enter\",\r\n            enterActive: \"alert-enter-done\",\r\n            exit: \"alert-exit\",\r\n            exitActive: \"alert-exit-done\",\r\n          }}\r\n          mountOnEnter\r\n          unmountOnExit\r\n          onExited={() => this.props.toggleModalWindow(false)}\r\n        >\r\n          <ModalWindowWrapper \r\n            {...this.props} \r\n            changeInput={(arg)=>this.setState({input:arg}) }\r\n            inputValue={this.state.input} \r\n            \r\n            />\r\n        </CSSTransition>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { addItemAC } from '../../redux/ItemListReducer';\r\nimport { selectColorAC, toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\nimport { updateGroupsWS } from '../../websocket/websocket';\r\nimport { ModalWindow } from './ModalWindow';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  colors: state.itemListReducer.groups.map(item=>item.color),\r\n  colorSelected: state.modalWindowReducer.colorSelected,\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  listID: state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  groups: state.itemListReducer.groups,\r\n\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>dispatch(addItemAC(item, color)),\r\n    toggleModalWindow: (flag) => dispatch(toggleWindowConditionAC(flag)),\r\n    selectColor: (value) => dispatch(selectColorAC(value)),\r\n    updateGroupsWS: (ws, groups, listID)=>dispatch(updateGroupsWS(ws, groups, listID))\r\n  });\r\n};\r\n\r\nexport const ModalWindowCC = connect(mapStateToProps, mapDispatchToProps)(ModalWindow);","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setListOfListsAC, setSharedListsAC } from \"../redux/listReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\nimport { store } from \"../redux/store\";\r\nimport { changeListID } from \"../websocket/websocket\";\r\n\r\nexport const ceateList = (name, color) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/list/create`,\r\n        {\r\n          name,\r\n          color,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error.response.data.message, \"--error--\");\r\n    }\r\n  };\r\n};\r\nexport const getLists = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n      if (!store.getState().titleOfListReduser._id) {\r\n        dispatch(setNameofListAC(response.data[0].name));\r\n        dispatch(setColorofListAC(response.data[0].color));\r\n        dispatch(setAllGroupsAC({groups:response.data[0].groups,deleted:response.data[0].deleted}));\r\n        dispatch(setIDListAC(response.data[0]._id));\r\n      }\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\nexport const getList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      console.log(response.data, \"getList\");\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      changeListID(store.getState().chatReducer.ws,response.data._id);\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const getSharedList = (userID) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/sharedLists/${userID}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setSharedListsAC(response.data));\r\n      \r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveList = (name, color, _id, groups, deleted) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(\r\n        `${API_URL}api/list/save`,\r\n        {\r\n          name,\r\n          color,\r\n          _id, \r\n          groups, \r\n          deleted\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));  // потом убрать\r\n      dispatch(setNameofListAC(response.data.name));  \r\n      dispatch(setColorofListAC(response.data.color));  \r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.delete(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};","import React from 'react';\r\n\r\nconst ColorRequired = (props) => {\r\n  const visible = \"alert alert-warning\";\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center \">\r\n      <div\r\n        className={props.visible ? visible+ ' visible' : visible + ' invisible'} \r\n        role=\"alert\">\r\n        Ты забыла выбрать цвет!\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ColorRequired };","import React from \"react\";\r\nimport { CirclePicker } from 'react-color';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {ColorRequired} from './ColorRequired';\r\n\r\nclass BottomSubMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      valueTitle: '',\r\n      color: {},\r\n      colorRequire:false\r\n\r\n    };\r\n  }\r\n  setColorRequire(){\r\n    this.setState({colorRequire : true});\r\n    setTimeout(()=>this.setState({colorRequire : false}),3000);\r\n  };\r\n  handleChangeComplete = (color) => {\r\n    this.setState({ color: color.hex });\r\n    this.setState({colorRequire : false});\r\n  };\r\n  handleClickDelete = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n\r\n  }\r\n  handleClickEdit = (e) => {\r\n    if (typeof this.state.color === 'string') {\r\n      this.props.saveList(this.state.valueTitle, this.state.color,this.props._id, this.props.groups, this.props.deleted);\r\n      this.props.toggleMenuWindow(false);\r\n      this.props.menuLocaleState({\r\n        isOpenAlertWindow: false,\r\n        isOpenSubmenu: false,\r\n        isOpenEditTitle: false,\r\n        isOpenCreateNewList: false,\r\n      });\r\n      return null;\r\n    }\r\n    this.setColorRequire();\r\n  }\r\n  handleClickCreateNew = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n    this.props.ceateList(this.state.valueTitle, this.state.color);\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"bottom-submenu position-absolute bg-danger w-100 h-75 d-flex flex-column\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <ColorRequired visible={this.state.colorRequire}/>\r\n        {this.props.isOpenEditTitle &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Изменить список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickEdit(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.isOpenCreateNewList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Новый список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickCreateNew(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.deleteCurrentList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center\">\r\n            <h3 className=\"bottom-submenu__title mt-2\">Удалить список</h3>\r\n            <div className=\"bottom-submeny__wrapper-botton d-flex justify-content-around w-50 mt-2\">\r\n              <NavLink\r\n                to='/' className=\"btn btn-warning\" onClick={e => {\r\n                  this.handleClickDelete(e);\r\n                  return this.props.deleteList(this.props._id);\r\n                }\r\n                }>Удалить</NavLink>\r\n              <NavLink to='/' className=\"btn btn-light\">Отмена</NavLink>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { BottomSubMenu };","import { connect } from \"react-redux\";\r\nimport { BottomSubMenu } from \"./BottomSubMenu\";\r\nimport { toggleMenuWindowAC } from \"../../../redux/menuReducer\";\r\nimport { ceateList, deleteList, saveList } from \"../../../http/list.actions\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  _id:state.titleOfListReduser._id,\r\n  groups: state.itemListReducer.groups,\r\n  deleted: state.itemListReducer.deleted,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n\r\n    saveList:(name, color, _id, groups, deleted) => {\r\n        dispatch(saveList(name, color, _id, groups, deleted));\r\n      },\r\n    toggleMenuWindow: flag => {\r\n      dispatch(toggleMenuWindowAC(flag));\r\n    },\r\n    ceateList:(name, color)=>dispatch(ceateList(name, color)),\r\n    deleteList:(listId)=>dispatch(deleteList(listId))\r\n  });\r\n};\r\n\r\nexport const BottomSubMenuCC = connect(mapStateToProps, mapDispatchToProps)(BottomSubMenu);\r\n","import React from 'react';\r\n\r\nconst ItemMenu = (props) => {\r\n\r\n  const setMenuStateHandler=()=>{\r\n    switch (props.titleSubMenuLinks) {\r\n      case 'Создать новый список':\r\n        props.menuLocaleState({\r\n          isOpenEditTitle: false,\r\n          isOpenCreateNewList: true,\r\n          deleteCurrentList: false\r\n        });\r\n        break;\r\n        case 'Удалить текущий список':\r\n          props.menuLocaleState({\r\n            isOpenEditTitle: false,\r\n            isOpenCreateNewList: false,\r\n            deleteCurrentList: true\r\n          });\r\n          break;\r\n          case 'Сохранить список в профиле':\r\n            props.menuLocaleState({\r\n              isOpenEditTitle: false,\r\n              isOpenCreateNewList: false,\r\n              deleteCurrentList: false\r\n            });\r\n            props.saveList();\r\n            break;\r\n            case 'Редактировать название списка':\r\n              props.menuLocaleState({\r\n                isOpenEditTitle: true,\r\n                isOpenCreateNewList: false,\r\n                deleteCurrentList: false\r\n              });\r\n              break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n  return ( \r\n    <div\r\n              className=\"menu__item alert-primary w-100\"\r\n              onClick={e => {\r\n                setMenuStateHandler();\r\n                if (props.titleSubMenuLinks !=='Сохранить список в профиле') {\r\n                  return props.isOpenSubmenu(e);\r\n                }\r\n              }}\r\n            >\r\n              {props.titleSubMenuLinks}\r\n            </div>\r\n  );\r\n};\r\n\r\n\r\nexport {ItemMenu};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { BottomSubMenuCC } from './BottomSubMenu/BottomSubMenuCC';\r\nimport { ItemMenu } from './ItemMenu';\r\n// сделать DRY\r\nclass Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n      deleteCurrentList: false,\r\n      titleSubMenuLinks: [\r\n        'Создать новый список',\r\n        'Удалить текущий список',\r\n        'Сохранить список в профиле',\r\n        'Редактировать название списка'\r\n      ]\r\n    };\r\n  }\r\n  saveListHandler() {\r\n    const { title, color, _id, groups, deleted } = this.props;\r\n    if (_id) {\r\n      this.props.saveList(\r\n        title, color, _id, groups, deleted\r\n      );\r\n    }\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n    this.setState({ isOpenEditTitle: false });\r\n  }\r\n  closeAlertWindow(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n  isOpenSubmenu(e) {\r\n    e.stopPropagation();\r\n    this.setState({ isOpenSubmenu: true });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"menu__background modal-window fixed-top\" onClick={(e) => this.closeAlertWindow(e)}>\r\n        <CSSTransition\r\n          in={this.state.isOpenSubmenu}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <BottomSubMenuCC\r\n            isOpenEditTitle={this.state.isOpenEditTitle}\r\n            isOpenCreateNewList={this.state.isOpenCreateNewList}\r\n            deleteCurrentList={this.state.deleteCurrentList}\r\n\r\n            menuLocaleState={(arg) => this.setState(arg)}\r\n          />\r\n        </CSSTransition>\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <div\r\n            className=\"menu container-fluid d-flex flex-column justify-content-start align-items-center px-0 zindex-sticky shadow\"\r\n            onClick={e => e.stopPropagation()}\r\n          >\r\n            {this.state.titleSubMenuLinks.map(title => (\r\n              this.props.isAuth\r\n                ? <ItemMenu\r\n                  key={title}\r\n                  titleSubMenuLinks={title}\r\n                  isOpenSubmenu={e => this.isOpenSubmenu(e)}\r\n                  menuLocaleState={(arg) => this.setState(arg)}\r\n                  saveList={() => this.saveListHandler()}\r\n                />\r\n                : null)\r\n            )}\r\n\r\n            {this.props.isAuth && <NavLink\r\n              to='/messages'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Сообщения\r\n              </div>\r\n            </NavLink >}\r\n            <NavLink\r\n              to='/profile'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Мой профиль\r\n              </div>\r\n            </NavLink >\r\n          </div>\r\n        </CSSTransition>\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;","import { connect } from \"react-redux\";\r\nimport { saveList } from \"../../http/list.actions\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport Menu from \"./Menu\";\r\nconst mapDispatchToState = (state) => ({\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  title:state.titleOfListReduser.title ,\r\n  color:state.titleOfListReduser.color ,\r\n  _id:state.titleOfListReduser._id ,\r\n  groups:state.itemListReducer.groups ,\r\n  deleted:state.itemListReducer.deleted,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) =>\r\n      dispatch(toggleMenuWindowAC(flag)),\r\n    saveList: (name, color, _id, groups, deleted)=>\r\n      dispatch(saveList(name, color, _id, groups, deleted))\r\n  };\r\n};\r\nexport const MenuCC = connect(mapDispatchToState, mapDispatchToProps)(Menu);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport './messages.css';\r\nimport { updateChatWS, updateUserWS } from '../../websocket/websocket.js';\r\n\r\nclass Messages extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      burgerClicked: false,\r\n      isOpenForm: false,\r\n      messageField: '',\r\n      newUserInput:''\r\n    };\r\n  }\r\n  handleClickBurger(e) {\r\n    this.setState({ burgerClicked: !this.state.burgerClicked, isOpenForm: false });\r\n  }\r\n  setFieldValue(e) {\r\n    this.setState({ messageField: e.target.value });\r\n  }\r\n  sendMessageHandle(e) {\r\n    e.preventDefault();\r\n    if (this.props.ws) {\r\n      updateChatWS(this.props.ws, this.state.messageField, this.props.currentUser.id, this.props.currentUser.email, this.props.listID);\r\n      this.setState({ messageField: '' });\r\n    }\r\n  }\r\n\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.listID, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n  addForm(e) {\r\n    this.setState({ isOpenForm: !this.state.isOpenForm });\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getChat(this.props.listID);\r\n    }\r\n    // if (this.props.ws) {\r\n    //   this.props.ws && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\r\n    // }\r\n    \r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"messages h-100 d-flex justify-content-start container-sm flex-grow-1\">\r\n        {!this.props.isAuth && <Redirect to=\"/profile\" />}\r\n        {              // на innerWidth > 575\r\n        }\r\n        {window.innerWidth > 575\r\n          ? <aside\r\n            className={`overflow-hidden mh-100  messages__aside d-flex flex-column w-25 rounded`}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n            <div className=\"zindex-1000\" style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n              <p className=\"border-bottom m-1\">Участники чата:</p>\r\n              <div className=\"zindex-1000\">\r\n              </div>\r\n              {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n              {/* список пользователей в этом чате */}\r\n            </div>\r\n            <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n              <form className=\"messages__add-user-form\">\r\n                <input value={this.state.newUserInput} placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                <button \r\n                  className=\"btn btn-primary border\"\r\n                  onClick={e=>this.addNewUser(e)}\r\n                >\r\n                  Добавить</button>\r\n              </form>\r\n              <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.addForm(e)}\r\n              >\r\n                Добавить участника\r\n              </button>\r\n            </div>\r\n          </aside>\r\n          : <button\r\n            className={`btn-burger d-flex flex-column justify-content-around align-items-center `}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}\r\n            onClick={e => this.handleClickBurger(e)}\r\n          >\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n          </button>\r\n        }\r\n        {              // на innerWidth менее 575\r\n        }\r\n        <div className=\"messages__chat-wrapper container d-flex justify-content-start w-75 flex-column ml-1 p-0 overflow-hidden\">\r\n          <div className=\"messages__chat border border-dark w-100 container rounded flex-grow-1 px-0\">\r\n            {this.state.burgerClicked && <div className=\"\">\r\n              <aside\r\n                className={`overflow-hidden mh-100 messages__aside d-flex flex-column w-100 rounded`}\r\n              >\r\n                <div className=\"zindex-1000\" style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}>\r\n                  <p className=\"border-bottom m-1\">Участники чата:</p>\r\n                  <div className=\"zindex-1000\">\r\n                  </div>\r\n                  {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n                  {/* список пользователей в этом чате */}\r\n                </div>\r\n                <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n                  <form className=\"messages__add-user-form\">\r\n                    <input placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                    <button \r\n                      className=\"btn btn-primary border\"\r\n                      onClick={e=>this.addNewUser(e)}\r\n                    >Добавить</button>\r\n                  </form>\r\n                  <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                    style={{\r\n                      backgroundColor: `${this.props.titleColor}`,\r\n                    }}\r\n                    onClick={e => this.addForm(e)}\r\n                  >\r\n                    Добавить участника\r\n                  </button>\r\n                </div>\r\n\r\n              </aside>\r\n            </div>\r\n            }\r\n            {/* <div>сообщения</div> */}\r\n            {this.props.chat.map((msg, index) => <div\r\n              key={index}\r\n              className={`${(msg.userID === this.props.currentUser.id) ? \"text-right\" : \"text-left\"} `}\r\n            >\r\n              <span\r\n                className={`  font-weight-normal`}\r\n              >\r\n                <span className=\"font-italic\">\r\n                  {msg.email}{' :'}\r\n                </span>\r\n                {msg.message}\r\n              </span>\r\n            </div>\r\n            )}\r\n          </div>\r\n\r\n\r\n\r\n          <form className=\"messages__chat-input-wrapper d-flex mt-1 row w=100\">\r\n            <div className=\"col-12 col-sm-9 pr-sm-1 pr-md-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.messageField}\r\n                className=\"messages__chat-input form-control \"\r\n                placeholder=\"Наберика текст ...\"\r\n                onChange={e => this.setFieldValue(e)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-12 col-sm-3 p-sm-0 px-md-3\">\r\n              <button\r\n                className=\"messages__btn btn btn-primary p-0 h-100 w-100\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.sendMessageHandle(e)}\r\n              >\r\n                Отправить\r\n              </button>\r\n            </div>\r\n\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Messages };","import { connect } from \"react-redux\";\r\nimport { getChat } from \"../../http/chat.actions\";\r\nimport { updateChatAC, updateUserAC } from \"../../redux/chatReducer\";\r\nimport { Messages } from \"./Messages\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  ws: state.chatReducer.ws,\r\n  users: state.chatReducer.users,\r\n  chat: state.chatReducer.chat,\r\n  currentUser: state.userReducer.currentUser,\r\n  listID: state.titleOfListReduser._id,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    updateChat: chat=>dispatch(updateChatAC(chat)),\r\n    updateUser: users=>dispatch(updateUserAC(users)),\r\n    getChat: listID=>dispatch(getChat(listID))\r\n  });\r\n};\r\n\r\nexport const MessagesCC = connect(mapStateToProps, mapDispatchToProps)(Messages);\r\n","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { updateUserAC, updateChatAC } from \"../redux/chatReducer\";\r\n\r\nexport const getChat = (listID) =>{\r\n  return async (dispatch) =>{\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/chat/`,\r\n        {\r\n          listID\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        dispatch(hideLoaderAC());\r\n        dispatch(updateChatAC(response.data.messages));\r\n        dispatch(updateUserAC(response.data.users));\r\n\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n};","import axios from \"axios\";\r\nimport { API_URL, API_URL_WS, API_URL_WSS } from \"../config\";\r\nimport { setWebsocketAC } from \"../redux/chatReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setUserAC } from \"../redux/userReducer\";\r\nimport { messageListenerWS, onCloseWS, openWS } from \"../websocket/websocket\";\r\nimport { getLists } from \"./list.actions\";\r\n\r\nexport const registration = async (email, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}api/user/registration`, {\r\n      email,\r\n      password,\r\n    });\r\n    alert(response.data.message);\r\n  } catch (error) {\r\n    console.log(error);\r\n    console.log(error.response.data.message, \"--error--\");\r\n  }\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(`${API_URL}api/user/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      dispatch(hideLoaderAC());\r\n\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n      dispatch(await getLists());\r\n      ;\r\n      const wS = new WebSocket(window.location.protocol === 'http' ?  API_URL_WS : API_URL_WSS + 'api/chat/');\r\n      dispatch(setWebsocketAC(wS));\r\n      openWS(wS);\r\n      messageListenerWS(wS);\r\n      onCloseWS(wS);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}api/user/auth`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n    } catch (e) {\r\n      localStorage.removeItem(\"token\");\r\n      console.log(e, 'auth');\r\n    }\r\n  };\r\n};\r\n\r\nexport const changePassword = (email, password, newPassword) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(`${API_URL}api/user/changePassword`, {\r\n        email,\r\n        password,\r\n        newPassword\r\n      });\r\n      dispatch(hideLoaderAC());\r\n      alert(response.data.message);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\n","import React from \"react\";\r\n\r\nconst OneListRow = (props) => {\r\n  const handleSelectList = () =>\r\n    props.selectList(props.list._id);\r\n  return (\r\n    <p className={`rounded list-of-list mt-1 ${props.nowSelected===props.list._id && 'border'}`}\r\n      style={{ backgroundColor: props.list.color }}\r\n      onClick={() => handleSelectList()}\r\n    >\r\n      {props.list.name}\r\n    </p>\r\n  );\r\n\r\n\r\n};\r\n\r\nexport default OneListRow;","import React from \"react\";\r\nimport OneListRow from \"../Profile/OneListRow\";\r\nclass SharedList extends React.Component {\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.sharedLists.length !==0 && <section>\r\n          <p>Списки других пользователей:</p>\r\n          {this.props.sharedLists.map((list, i) => (\r\n            <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n          )\r\n          )}\r\n      </section>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default SharedList;","import {connect} from 'react-redux';\r\nimport { getList, getSharedList } from '../../http/list.actions';\r\nimport SharedList from './SharedList';\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n  sharedLists: state.listReducer.sharedLists,\r\n  currentUser:state.userReducer.currentUser\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n\r\n    \r\n  });\r\n};\r\n\r\nexport const SharedListsCC = connect(mapStateToProps, mapDispatchToProps)(SharedList);","import React, { useState, useEffect  } from \"react\";\r\n\r\n\r\nconst ChangePasswordWindow = (props) => {\r\n  const [password, setPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPasswordDouble, setNewPasswordDouble] = useState('');\r\n  const [submitDisabled, setSubmitDisabled] = useState(false);\r\n\r\n  const checkNewPassword = ()=>{\r\n    if (!!password && !!newPasswordDouble && !!newPassword && (newPasswordDouble === newPassword)) {\r\n      return setSubmitDisabled (true);\r\n    }\r\n    setSubmitDisabled (false); // доделать проверку\r\n  };\r\n  useEffect (()=>checkNewPassword(),[password,newPasswordDouble,newPassword] );\r\n  \r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeChPasForm({ changePasswordFormIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-light p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Сменить пароль</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password\">Старый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password\"\r\n            value={password}\r\n            placeholder=\"Введите cтарый пароль\"\r\n\r\n            onChange={(e) => {setPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password1\">Новый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password1\"\r\n            value={newPassword}\r\n            placeholder=\"Введите новый пароль\"\r\n\r\n            onChange={(e) => {setNewPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n                    <input\r\n            type=\"password\"\r\n            className=\"form-control mt-1\"\r\n            id=\"Password2\"\r\n            value={newPasswordDouble}\r\n            placeholder=\"Повторите новый пароль\"\r\n            onChange={(e) => {setNewPasswordDouble(e.target.value);\r\n              // checkNewPassword();\r\n\r\n            }}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          disabled={!submitDisabled}\r\n          onClick={() => {\r\n            props.closeChPasForm({ changePasswordFormIsOpen: false });\r\n            return props.setnewpassword(props.email, password, newPassword);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ChangePasswordWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst LoginWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ loginWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-info p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Вход</h3>\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={() => {\r\n            props.closeForm({ loginWindowIsOpen: false });\r\n            return props.loginHandler(email, password);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { LoginWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst RegistrationWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ redistrationWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-success p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n\r\n      >\r\n        <h3 className=\"registration\">Регистрация</h3>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">Мы никогда никому не передадим Вашу электронную почту.</small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={(e) => {\r\n            props.closeForm({ redistrationWindowIsOpen: false });\r\n            props.registrationHandler(email, password);\r\n            return e.preventDefault();\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { RegistrationWindow };","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { registration } from \"../../http/user.action\";\r\nimport { updateUserWS } from \"../../websocket/websocket\";\r\nimport { SharedListsCC } from \"../SharedList/SharedListsCC\";\r\nimport { ChangePasswordWindow } from \"./ChangePasswordWindow\";\r\nimport { LoginWindow } from \"./LoginWindow\";\r\nimport OneListRow from \"./OneListRow\";\r\nimport { RegistrationWindow } from \"./RegistrationWindow\";\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    loginWindowIsOpen: false,\r\n    redistrationWindowIsOpen: false,\r\n    changePasswordFormIsOpen: false,\r\n    shareListForm: false,\r\n    newUserInput:''\r\n  }\r\n  loginHandler(email, password) {\r\n    this.props.login(email, password);\r\n  }\r\n  registrationHandler(email, password) {\r\n    registration(email, password);\r\n  }\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.selectedListId, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getSharedList(this.props.userID);\r\n      return this.props.getLists(this.props.userID);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      if (localStorage.getItem(\"token\")) {\r\n        this.props.getSharedList(this.props.userID);\r\n        return this.props.getLists(this.props.userID);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  openSendfield(e) {\r\n    e.preventDefault();\r\n    this.setState({ shareListForm: !this.state.shareListForm });\r\n\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"profile d-flex flex-column justify-content-start container-fluid \">\r\n        {this.state.changePasswordFormIsOpen\r\n          && <ChangePasswordWindow\r\n            closeChPasForm={(arg) => this.setState(arg)}\r\n            email={this.props.email}\r\n            setnewpassword={(e, p, newP) => this.props.changePassword(e, p, newP)}\r\n          />}\r\n        {this.props.isAuth\r\n          ?\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md\">\r\n                <div className=\"profile__data d-flex flex-column justify-content-start align-items-start\">\r\n                  <p className=\"profile__email\">Почта : {this.props.email}</p>\r\n                  <button\r\n                    className=\"profile__close btn border border-dark w-md-50 bg-light\"\r\n                    style={{ сolor: this.props.titleColor }}\r\n                    onClick={() => this.setState({ changePasswordFormIsOpen: true })}\r\n\r\n                  >\r\n                    Сменить пароль\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md\">\r\n                <p>Списки покупок:</p>\r\n                {this.props.lists.map((list, i) => (\r\n                  <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n                )\r\n                )}\r\n                <div className=\"container overflow-hidden pb-1\" >\r\n                  <form className={`row profile__form-wrapper ${this.state.shareListForm && 'profile__form-wrapper_active'}`}>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <input className=\"w-100 rounded\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email пользователя...\" value={this.state.newUserInput} onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n\r\n                    </div>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <button className=\"btn btn-warning w-100 text-center\" onClick={e=>this.addNewUser(e)}>\r\n                        Поделиться\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                  <button\r\n                    disabled={!this.props.selectedListId}\r\n                    className=\"btn btn-warning\"\r\n                    onClick={e => this.openSendfield(e)}\r\n                  >\r\n                    Поделиться списком\r\n                  </button>\r\n                  <SharedListsCC />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\"\r\n            >\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <NavLink\r\n                  to='/'\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                >\r\n                  Закрыть\r\n                </NavLink>\r\n              </div>\r\n\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                  onClick={() => {\r\n                    this.props.clearLists();\r\n                    this.props.logout();\r\n                    this.props.setListFromStorage();\r\n                    if (this.props.ws) {\r\n                      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\r\n\r\n                    }\r\n                  }\r\n\r\n                  }\r\n                >\r\n                  Выйти из профиля\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n          :\r\n          <div className=\"container-fluid\">\r\n            {this.state.loginWindowIsOpen\r\n              ? <LoginWindow closeForm={(arg) => this.setState(arg)}\r\n                loginHandler={(email, password) => this.loginHandler(email, password)} />\r\n              : null}\r\n            {this.state.redistrationWindowIsOpen\r\n              ? <RegistrationWindow\r\n                closeForm={(arg) => this.setState(arg)}\r\n                registrationHandler={(email, password) => this.registrationHandler(email, password)}\r\n              />\r\n              : null}\r\n            <div className=\"row justify-content-around\">\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-info\"\r\n                  onClick={() => this.setState({ loginWindowIsOpen: true })}\r\n                >\r\n                  Войти\r\n                </button>\r\n              </div>\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => this.setState({ redistrationWindowIsOpen: true })}\r\n                >\r\n                  Зарегистрироваться\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n        {!this.props.isAuth && <p>Войдите или зарегистрируйтесь, чтобы создать несколько списков</p>}\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport { Profile };","import { connect } from \"react-redux\";\r\nimport { getList, getLists, getSharedList } from \"../../http/list.actions\";\r\nimport { changePassword, login } from \"../../http/user.action\";\r\nimport { clearListsAC } from \"../../redux/listReducer\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { logoutAC } from \"../../redux/userReducer\";\r\nimport { setListFromStorage } from \"../../utils/clearList\";\r\nimport { Profile } from \"./Profile\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n  email: state.userReducer.currentUser.email,\r\n  lists: state.listReducer.lists,\r\n  selectedListId:state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  userID: state.userReducer.currentUser.id,\r\n\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n    login: (email, password)=> dispatch(login(email, password)),\r\n    logout: ()=>dispatch(logoutAC()),\r\n    getLists:()=>dispatch(getLists()),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n    clearLists:()=>dispatch(clearListsAC()),\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n\r\n    changePassword: (email,password, newPassword) => dispatch(changePassword(email,password, newPassword))\r\n  };\r\n};\r\n\r\nexport const ProfileCC = connect(mapDispatchToState, mapDispatchToProps)(Profile);\r\n","import React from \"react\";\r\n\r\n\r\nclass Spinner extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"spinner__wrapper\">\r\n        <div className=\"spinner-border\" style={{ color: this.props.color, backgroundColor: this.props.color }} role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    );\r\n  };\r\n};\r\n\r\nexport { Spinner };","import { connect } from \"react-redux\";\r\nimport { Spinner } from \"./Spinner\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  \r\n  };\r\n};\r\nexport const SpinnerCC = connect(mapDispatchToState, mapDispatchToProps)(Spinner);\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { initialState, setAllGroupsAC } from \"../../redux/ItemListReducer\";\r\nimport { clearLocStorage } from \"../../utils/clearList\";\r\n\r\nexport function ClearButton() {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    clearLocStorage();\r\n    dispatch(setAllGroupsAC({groups: initialState.groups, deleted: []})); \r\n  };\r\n    return (\r\n      <button\r\n        className=\"btn btn-warning rounded-circle button-crear-add d-flex \"\r\n        onClick={(e)=>handleClick(e)}\r\n      >\r\n        <svg \r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          width=\"1.5em\" \r\n          height=\"1.5em\" \r\n          fill=\"currentColor\" \r\n          className=\"bi bi-arrow-90deg-left\" \r\n          viewBox=\"0 0 16 16\">\r\n          <path fillRule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\" />\r\n        </svg>\r\n      </button>\r\n    );\r\n  \r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { ListCC } from \"./components/List/ListCC\";\nimport { HeaderCC } from \"./components/Header/HeaderCC\";\nimport { AddButtonCC } from \"./components/AddButton/AddButtonCC\";\nimport { ModalWindowCC } from \"./components/ModalWindow/ModalWindowCC\";\nimport { MenuCC } from \"./components/Menu/MenuCC\";\nimport { MessagesCC } from \"./components/Messages/MessagesCC\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ProfileCC } from \"./components/Profile/ProfileCC\";\nimport { SpinnerCC } from \"./components/Spinner/SpinnerCC\";\nimport { ClearButton } from \"./components/AddButton/ClearButton\";\nimport { firstConnectWS } from \"./websocket/websocket\";\n\nexport default class App extends React.Component {\n  componentDidMount(){\n    if (!this.props.isAuth) {\n      this.props.setListFromStorage();\n    }\n    }\n  componentWillUnmount() {\n    if (this.props.ws) {\n      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\n    }\n    localStorage.removeItem(\"token\");\n    this.props.clearLists();\n  }\n  componentDidUpdate(prevProps){\n    \n    if (!this.props.isAuth) {\n      this.props.clearLists();\n      this.props.setListFromStorage();\n    }\n    prevProps.ws==null && this.props.ws && this.props.ws.readyState === 1 && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\n    \n  }\n  render() {\n    return (\n      <div className=\"App mx-auto \">\n        {this.props.loader && <SpinnerCC />}\n        {this.props.isOpenMenu && <MenuCC />}\n        <main className=\"container-sm d-flex flex-column justify-content-between main\">\n          <HeaderCC />\n          <Switch>\n            <Route path=\"/messages\" history={this.props.history}>\n              <MessagesCC />\n            </Route>\n            <Route path=\"/profile\" history={this.props.history}>\n              <ProfileCC />\n            </Route>\n            <Route path=\"/\" history={this.props.history}>\n              <ListCC />\n              <div className={`d-flex justify-content-${this.props.isAuth?'center':'between'} button-add`}>\n                <AddButtonCC />\n                {!this.props.isAuth && <ClearButton />}\n              </div>\n            </Route>\n          </Switch>\n          <footer className=\"d-flex justify-content-end align-items-end footer\">\n            <p className=\"mb-1\">&copy; Балашов Максим</p>\n          </footer>\n        </main>\n        {this.props.isOpen && <ModalWindowCC />}\n      </div>\n    );\n  }\n}\n","import { connect } from \"react-redux\";\r\nimport { toggleWindowConditionAC } from \"./redux/modalWindowReducer\";\r\nimport App from \"./App\";\r\nimport { showMessagesAC } from \"./redux/menuReducer\";\r\nimport { setListFromStorage } from \"./utils/clearList\";\r\nimport { clearListsAC } from \"./redux/listReducer\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  isOpenMessages: state.menuReducer.isOpenMessages,\r\n  loader: state.loaderReducer.loader,\r\n  isAuth:state.userReducer.isAuth,\r\n  ws:state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser: state.userReducer.currentUser,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    toggleModalWindow: (flag) => {\r\n      dispatch(toggleWindowConditionAC(flag));\r\n    },\r\n    showMessages: (flag) => {\r\n      dispatch(showMessagesAC(flag));\r\n    },\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    clearLists: ()=>dispatch(clearListsAC())\r\n  });\r\n};\r\n\r\nexport const AppCC = connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { AppCC } from \"./AppCC\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { store } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, HashRouter } from \"react-router-dom\";\n// import { createBrowserHistory } from \"history\";\n\n// const history = createBrowserHistory();\n// history.push('/');\n\nReactDOM.render(\n  // <Router history={history}>\n    <Provider store={store}>\n    <HashRouter>\n      <AppCC />\n    </HashRouter>\n    </Provider>\n  // </Router>\n  ,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}