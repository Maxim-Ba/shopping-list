{"version":3,"sources":["redux/modalWindowReducer.js","redux/ItemListReducer.js","redux/titleOfListReduser.js","utils/clearList.js","config.js","redux/chatReducer.js","redux/menuReducer.js","redux/userReducer.js","redux/loaderReducer.js","redux/listReducer.js","redux/store.js","websocket/websocket.js","components/DeletedItem/DeletedItem.jsx","components/Item/Item.js","components/GroupItem/GroupItem.js","components/List/List.js","components/List/ListCC.js","components/Header/Header.js","components/Header/HeaderCC.js","components/AddButton/AddButton.js","components/AddButton/AddButtonCC.js","components/ModalWindow/ModalwindowWrapper.jsx","components/ModalWindow/ModalWindow.js","components/ModalWindow/ModalWindowCC.js","http/list.actions.js","components/Menu/BottomSubMenu/ColorRequired.jsx","components/Menu/BottomSubMenu/BottomSubMenu.jsx","components/Menu/BottomSubMenu/BottomSubMenuCC.js","components/Menu/ItemMenu.jsx","components/Menu/Menu.jsx","components/Menu/MenuCC.js","components/Messages/Messages.jsx","components/Messages/MessagesCC.js","http/chat.actions.js","http/user.action.js","components/Profile/OneListRow.jsx","components/SharedList/SharedList.jsx","components/SharedList/SharedListsCC.js","components/Profile/ChangePasswordWindow.jsx","components/Profile/LoginWindow.jsx","components/Profile/RegistrationWindow.jsx","components/Profile/Profile.jsx","components/Profile/ProfileCC.js","components/Spinner/Spinner.jsx","components/Spinner/SpinnerCC.js","components/AddButton/ClearButton.jsx","App.js","AppCC.js","serviceWorker.js","index.js"],"names":["initialState","isOpen","input","colorSelected","toggleWindowConditionAC","flag","type","payload","groups","color","items","deleted","addItemAC","item","setAllGroupsAC","data","title","_id","setNameofListAC","name","setColorofListAC","setIDListAC","id","setListFromStorage","JSON","parse","localStorage","getItem","dispatch","a","error","console","log","API_URL","API_URL_WS","defaultState","users","chat","ws","updateChatAC","updateUserAC","setWebsocketAC","isOpenMenu","isOpenMessages","toggleMenuWindowAC","currentUser","isAuth","setUserAC","user","loader","lists","sharedLists","setListOfListsAC","redusers","combineReducers","itemListReducer","state","action","map","filter","itemOfList","index","indexForRemove","findIndex","num","modalWindowReducer","titleOfListReduser","menuReducer","userReducer","removeItem","loaderReducer","listReducer","objectList","chatReducer","store","createStore","applyMiddleware","thunk","openWS","reconnect","onopen","event","send","stringify","firstConnectWS","getState","email","messageListenerWS","onmessage","length","listID","userID","message","updateGroupsWS","updateUserWS","userEmail","onCloseWS","onclose","info","code","reason","newWS","WebSocket","DeletedItem","handleClick","props","addItem","removeFromDeleted","className","onClick","this","React","Component","Item","deleteItem","style","backgroundColor","minWidth","GroupItem","createItems","arr","key","List","createGroupItems","createDeletedItems","prevProps","deletedItems","setItem","updateDeletedAndGroups","ListCC","connect","inputValue","closeModalWindow","deleteItemAC","removeFromDeletedAC","Header","e","toggleMenuWindow","titleColor","to","titleList","xmlns","width","height","fill","class","viewBox","d","fill-rule","HeaderCC","AddButton","toggleWindow","fillRule","AddButtonCC","ModalWindowWrapper","handleSubmit","preventDefault","toggleModalWindow","changeInput","handleInput","target","value","handleSelectColor","selectColor","displayColorsBtn","colors","selectedColor","colorBtn","stopPropagation","onSubmit","placeholder","onChange","required","ModalWindow","setState","isOpenAlertWindow","CSSTransition","in","timeout","classNames","enter","enterActive","exit","exitActive","mountOnEnter","unmountOnExit","onExited","arg","ModalWindowCC","getLists","axios","get","headers","Authorization","response","getList","listId","getSharedList","saveList","put","ColorRequired","visible","role","BottomSubMenu","handleChangeComplete","hex","colorRequire","handleClickDelete","menuLocaleState","isOpenSubmenu","isOpenEditTitle","isOpenCreateNewList","handleClickEdit","valueTitle","setColorRequire","handleClickCreateNew","ceateList","setTimeout","onChangeComplete","deleteCurrentList","deleteList","BottomSubMenuCC","post","delete","ItemMenu","titleSubMenuLinks","setMenuStateHandler","Menu","closeAlertWindow","saveListHandler","activeClassName","MenuCC","Messages","burgerClicked","isOpenForm","messageField","newUserInput","getChat","window","innerWidth","userid","addNewUser","addForm","handleClickBurger","msg","setFieldValue","sendMessageHandle","MessagesCC","updateChat","updateUser","messages","registration","password","alert","OneListRow","nowSelected","list","selectList","SharedList","i","handleSelectList","selectedListId","SharedListsCC","ChangePasswordWindow","useState","setPassword","newPassword","setNewPassword","newPasswordDouble","setNewPasswordDouble","submitDisabled","setSubmitDisabled","useEffect","checkNewPassword","closeChPasForm","changePasswordFormIsOpen","htmlFor","disabled","setnewpassword","LoginWindow","setEmail","closeForm","loginWindowIsOpen","aria-describedby","loginHandler","RegistrationWindow","redistrationWindowIsOpen","registrationHandler","Profile","shareListForm","login","p","newP","changePassword","сolor","openSendfield","clearLists","logout","close","ProfileCC","token","wS","Spinner","SpinnerCC","ClearButton","useDispatch","App","readyState","path","history","AppCC","showMessages","showMessagesAC","Boolean","location","hostname","match","createBrowserHistory","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","unregister","catch"],"mappings":"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","file":"static/js/main.2375e10e.chunk.js","sourcesContent":["const initialState = {\r\n  isOpen: false,\r\n  input: \"\",\r\n  colorSelected: \"red\",\r\n};\r\n\r\nconst TOGGLE_WINDOW_CONDITION = \"TOGGLE_WINDOW_CONDITION\";\r\n// const CHANGE_INPUT = \"CHANGE_INPUT\";\r\nconst SELECT_COLOR = \"SELECT_COLOR\";\r\n\r\nexport const toggleWindowConditionAC = (flag) => ({\r\n  type: TOGGLE_WINDOW_CONDITION,\r\n  payload: flag,\r\n});\r\n// export const changeInputAC = (value) => ({\r\n//   type: CHANGE_INPUT,\r\n//   payload: value,\r\n// });\r\nexport const selectColorAC = (color) => ({\r\n  type: SELECT_COLOR,\r\n  payload: color,\r\n});\r\nexport const modalWindowReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_WINDOW_CONDITION:\r\n      return { ...state, isOpen: action.payload };\r\n    // case CHANGE_INPUT:\r\n    //   return { ...state, input: action.payload };\r\n    case SELECT_COLOR:\r\n      return { ...state, colorSelected: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  groups: [\r\n    {\r\n      color: \"red\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"green\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"blue\",\r\n      items: []\r\n    },\r\n    {\r\n      color: \"gray\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"cyan\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"yellow\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"indigo\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"midnightblue\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"salmon\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"orange\",\r\n      items: [],\r\n    },\r\n  ],\r\n  deleted: [],\r\n};\r\n\r\nconst ADD_ITEM = \"ADD_ITEM\";\r\nconst DELETE_ITEM = \"DELETE_ITEM\";\r\nconst REMOVE_FROM_DELETED = \"REMOVE_FROM_DELETED\";\r\nconst SET_ALL_GROUPS = \"SET_ALL_GROUPS\";\r\nconst SET_GROUPS = \"SET_GROUPS\";\r\n\r\nexport const addItemAC = (item, color) => {\r\n  return {\r\n    type: ADD_ITEM,\r\n    item: item,\r\n    color: color,\r\n  };\r\n};\r\nexport const deleteItemAC = (item, color, index) => {\r\n  return {\r\n    type: DELETE_ITEM,\r\n    item: item,\r\n    color: color,\r\n    index: index,\r\n  };\r\n};\r\nexport const removeFromDeletedAC = (item, color) => {\r\n  return {\r\n    type: REMOVE_FROM_DELETED,\r\n    item: item,\r\n    color: color,\r\n\r\n  };\r\n};\r\nexport const setAllGroupsAC = (data) => {\r\n  return {\r\n    type: SET_ALL_GROUPS,\r\n    payload: data\r\n\r\n  };\r\n};\r\nexport const setOnlyGroupsAC = (groups) => {\r\n  return {\r\n    type: SET_GROUPS,\r\n    payload: groups\r\n  };\r\n};\r\n\r\nexport const itemListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? { ...item, items: [...item.items, action.item] }\r\n            : item\r\n        ),\r\n      };\r\n    case DELETE_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? {\r\n                ...item,\r\n                items: item.items.filter(\r\n                  (itemOfList, index) => action.index !== index\r\n                ),\r\n              }\r\n            : item\r\n        ),\r\n        deleted: [\r\n          ...state.deleted,\r\n          { items: action.item, color: action.color, index: action.index },\r\n        ],\r\n      };\r\n    case REMOVE_FROM_DELETED:\r\n      const indexForRemove = state.deleted.findIndex(item=>(item.color === action.color && item.items === action.item)); \r\n      return {\r\n        ...state,\r\n        deleted: state.deleted.filter((item, num) => num !== indexForRemove),\r\n      };\r\n      case SET_ALL_GROUPS:\r\n        return {\r\n          ...state,\r\n          groups: [...action.payload.groups],\r\n          deleted: [...action.payload.deleted],\r\n        };\r\n        case SET_GROUPS:\r\n          return {\r\n            ...state,\r\n            groups: [...action.payload],\r\n          };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  \r\n      title: \"Список покупок\",\r\n      color: \"#007bff\",\r\n      _id:''\r\n};\r\nconst SET_TITLE = \"SET_TITLE\";\r\nconst SET_COLOR = \"SET_COLOR\";\r\nconst SET_ID = \"SET_ID\";\r\n\r\n\r\n\r\nexport const setNameofListAC = (name) => {\r\n  return {\r\n    type: SET_TITLE,\r\n    payload: name,\r\n  };\r\n};\r\nexport const setColorofListAC = (color) => {\r\n  return {\r\n    type: SET_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\nexport const setIDListAC = (id) => {\r\n  return {\r\n    type: SET_ID,\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const titleOfListReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TITLE:\r\n      return {\r\n        ...state,\r\n        title: action.payload,\r\n      };\r\n    case SET_COLOR:\r\n      return {\r\n        ...state,\r\n        color: action.payload,\r\n      };\r\n      case SET_ID:\r\n      return {\r\n        ...state,\r\n        _id: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport function saveOnLocStorage(groups, deleted) {\r\n  localStorage.setItem('groups',JSON.stringify(groups) );\r\n  localStorage.setItem('deleted', JSON.stringify(deleted));\r\n}\r\nexport function clearLocStorage() {\r\n  localStorage.setItem('groups', null);\r\n  localStorage.setItem('deleted', null);\r\n\r\n}\r\n\r\n\r\nexport function setListFromStorage() {\r\n  if (!JSON.parse(localStorage.getItem('groups'))) {\r\n    return async (dispatch)=>{};\r\n  }\r\n  return async (dispatch)=>{\r\n    const groups = JSON.parse(localStorage.getItem('groups'));\r\n    const deleted = JSON.parse(localStorage.getItem('deleted'));\r\n    try {\r\n        dispatch(setAllGroupsAC({groups, deleted}));\r\n        //------------------------------------------\r\n        dispatch(setIDListAC(''));\r\n        dispatch(setColorofListAC(\"#007bff\"));\r\n        dispatch(setNameofListAC(\"Список покупок\"));\r\n      \r\n    } catch (error) {\r\n      console.log(error); \r\n    }\r\n  };\r\n\r\n  \r\n}","export const API_URL = 'https://safe-taiga-47540.herokuapp.com/';\r\nexport const API_URL_WS = 'ws://safe-taiga-47540.herokuapp.com/';","export const defaultState = {\r\n  users: [],\r\n  chat: [],\r\n  ws: null,\r\n};\r\n\r\nconst UPDATE_CHAT = \"UPDATE_CHAT\";\r\nconst UPDATE_USERS = \"UPDATE_USERS\";\r\nconst SET_WEBSOCKET = \"SET_WEBSOCKET\";\r\n//action creater\r\n\r\nexport const updateChatAC = (chat) => ({ type: UPDATE_CHAT, payload: chat });\r\nexport const updateUserAC = (users) => ({ type: UPDATE_USERS, payload: users });\r\nexport const setWebsocketAC = (ws) => ({ type: SET_WEBSOCKET, payload: ws });\r\n\r\nexport function chatReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.payload],\r\n      };\r\n    case UPDATE_CHAT:\r\n      return { ...state, chat: [...action.payload] };\r\n    case SET_WEBSOCKET:\r\n      return { ...state, ws: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  isOpenMenu:   false,\r\n  isOpenMessages: false\r\n\r\n};\r\n\r\nconst TOGGLE_MENU = \"TOGGLE_MENU\";\r\nconst CREATE_NEW_SHOP_LIST = \"CREATE_NEW_SHOP_LIST\";\r\nconst DELETE_THIS_SHOP_LIST = \"DELETE_THIS_SHOP_LIST\";\r\n\r\nconst SHOW_MESSAGES = \"SHOW_MESSAGES\";\r\n\r\nexport const toggleMenuWindowAC = (flag) => ({\r\n  type: TOGGLE_MENU,\r\n  payload: flag,\r\n});\r\nexport const createNewShopListAC = (flag) => ({\r\n  type: CREATE_NEW_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const deleteCurrentListAC = (flag) => ({\r\n  type: DELETE_THIS_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const showMessagesAC = (flag) => ({\r\n  type: SHOW_MESSAGES,\r\n  payload: flag,\r\n});\r\n\r\n\r\n\r\nexport const menuReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_MENU:\r\n      return { ...state, isOpenMenu: action.payload };\r\n      case SHOW_MESSAGES:\r\n        return { ...state, isOpenMenu: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\nconst defaultState = {\r\n  currentUser: {},\r\n  isAuth: false,\r\n};\r\n\r\nconst SET_USER = \"SET_USER\";\r\nconst LOGOUT = \"LOGOUT\";\r\nconst CHANGE_EMAIL = \"CHANGE_EMAIL\";\r\n//action creater\r\n\r\nexport const setUserAC = user => ({type: SET_USER, payload: user});\r\nexport const logoutAC = () => ({ type: LOGOUT });\r\nexport const changeUserEmailAC = (email) => ({type: CHANGE_EMAIL, payload: email});// доделать\r\nexport function userReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state, currentUser: action.payload, isAuth: true};\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"token\");\r\n      return {...state, currentUser: {},isAuth: false};\r\n      case CHANGE_EMAIL:\r\n      return {...state, currentUser: {},isAuth: false};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","const defaultState = {\r\n  loader: false,\r\n};\r\n\r\nconst SHOW_LOADER = \"SHOW_LOADER\";\r\nconst HIDE_LOADER = \"HIDE_LOADER\";\r\n\r\nexport function loaderReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loader: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loader: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showLoaderAC = () => ({ type: SHOW_LOADER });\r\nexport const hideLoaderAC = () => ({ type: HIDE_LOADER });\r\n","const initialState = {\r\n  lists: [],\r\n  sharedLists:[],\r\n};\r\n\r\nconst SAVE_LIST = \"SAVE_LIST\";\r\nconst DELETE_LIST = \"DELETE_LIST\";\r\nconst SET_LIST_OF_LISTS = \"SET_LIST_OF_LISTS\";\r\nconst SET_SHARED_LISTS = \"SET_SHARED_LISTS\";\r\nconst CLEAR_LISTS = \"CLEAR_LISTS\";\r\n\r\nexport const saveListAC = (list) => ({\r\n  type: SAVE_LIST,\r\n  payload: list,\r\n});\r\n\r\nexport const deleteListAC = () => ({\r\n  type: DELETE_LIST,\r\n});\r\nexport const setListOfListsAC = (lists) => ({\r\n  type: SET_LIST_OF_LISTS,\r\n  payload: lists,\r\n});\r\nexport const setSharedListsAC = (lists) => ({\r\n  type: SET_SHARED_LISTS,\r\n  payload: lists,\r\n});\r\n\r\nexport const clearListsAC = () => ({\r\n  type: CLEAR_LISTS,\r\n});\r\n\r\nexport const listReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SAVE_LIST:\r\n      return { ...state, isOpen: action.payload };\r\n\r\n    case DELETE_LIST:\r\n      return { ...state, colorSelected: action.payload };\r\n    \r\n    case SET_LIST_OF_LISTS:\r\n      return {\r\n        ...state,\r\n        lists: action.payload.map((objectList) => ({\r\n          name: objectList.name,\r\n          color: objectList.color,\r\n          _id: objectList._id,\r\n        })),\r\n      };\r\n      case SET_SHARED_LISTS:\r\n        return {\r\n          ...state,\r\n          sharedLists: action.payload.map((objectList) => ({\r\n            name: objectList.name,\r\n            color: objectList.color,\r\n            _id: objectList._id,\r\n          })),\r\n        };      \r\n    case CLEAR_LISTS:\r\n      return { ...state, lists:[] };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware  } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {itemListReducer} from './ItemListReducer';\r\nimport {modalWindowReducer} from './modalWindowReducer';\r\nimport {titleOfListReduser} from './titleOfListReduser';\r\nimport {menuReducer} from './menuReducer';\r\nimport {userReducer} from './userReducer';\r\nimport {loaderReducer} from './loaderReducer';\r\nimport {listReducer} from './listReducer';\r\nimport {chatReducer} from './chatReducer';\r\n\r\n\r\nconst redusers = combineReducers({\r\n  itemListReducer,\r\n  modalWindowReducer,\r\n  titleOfListReduser,\r\n  menuReducer,\r\n  userReducer,\r\n  loaderReducer,\r\n  listReducer,\r\n  chatReducer\r\n\r\n});\r\n\r\nexport const store = createStore(redusers, applyMiddleware(thunk));","import { API_URL_WS } from \"../config\";\r\nimport {\r\n  setWebsocketAC,\r\n  updateChatAC,\r\n  \r\n} from \"../redux/chatReducer\";\r\nimport { setAllGroupsAC, setOnlyGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { store } from \"../redux/store\";\r\nimport { setColorofListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport const openWS = async (ws, reconnect = null) => {\r\n  ws.onopen = (event) => {\r\n    reconnect \r\n    ? ws.send(\r\n      JSON.stringify({\r\n        event: \"connection\",\r\n      })\r\n    )\r\n    : firstConnectWS (\r\n      ws,\r\n      store.getState().titleOfListReduser._id,\r\n      store.getState().userReducer.currentUser.id, \r\n      store.getState().userReducer.currentUser.email\r\n      );\r\n      \r\n\r\n    \r\n  };\r\n};\r\n\r\nexport const messageListenerWS = (ws) => {\r\n  try {\r\n    ws.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      switch (data.event) {\r\n        case \"updateUser\":\r\n          if (data.users.length === 0) {\r\n            break;\r\n          }\r\n          break;\r\n        case \"wellDone\":\r\n          const listID = store.getState().titleOfListReduser._id;\r\n          const userID = store.getState().userReducer.currentUser.id;\r\n          const email = store.getState().userReducer.currentUser.email;\r\n          listID \r\n            ? firstConnectWS (ws, listID, userID, email)\r\n            : console.log(listID, \"listID on firstConnectWS\");\r\n          break;\r\n        case \"updateChat\":\r\n          store.dispatch(updateChatAC(data.message));\r\n          break;\r\n        case \"updateGroups\":\r\n          store.dispatch(setOnlyGroupsAC(data.groups));\r\n          break;\r\n        case \"updateDeletedAndGroups\":\r\n          store.dispatch(\r\n            setAllGroupsAC({ groups: data.groups, deleted: data.deleted })\r\n          );\r\n          break;\r\n        case \"updateNameOfList\":\r\n          store.dispatch(setNameofListAC(data.name));\r\n          break;\r\n        case \"updateColorOfList\":\r\n          store.dispatch(setColorofListAC(data.color));\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  } catch (error) {}\r\n};\r\n\r\nexport const updateChatWS = (ws, message, user, email, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateChat\",\r\n      message,\r\n      user,\r\n      email,\r\n      listID,\r\n    })\r\n  );\r\n};\r\n\r\nexport const updateGroupsWS = (ws, groups, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateGroups\",\r\n      groups,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n};\r\nexport const updateUserWS = (ws, listID, userEmail) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateUser\",\r\n      listID,\r\n      userEmail,\r\n    })\r\n  );\r\n};\r\nexport const updateDeletedAndGroups = (ws, groups, deleted, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateDeletedAndGroups\",\r\n      groups,\r\n      deleted,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n};\r\n\r\nexport const firstConnectWS = (ws, listID, userID, email) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"firstConnect\",\r\n      listID,\r\n      userID,\r\n      user: email,\r\n    })\r\n  );\r\n};\r\n\r\nexport const changeListID = (ws, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"changeListID\",\r\n      listID,\r\n    })\r\n  );\r\n};\r\nexport const onCloseWS = (ws) => {\r\n  ws.onclose = (event) => {\r\n    console.info(`WebSocket closed with code ${event.code}! ${event.reason}`);\r\n    store.dispatch(setWebsocketAC(null)); // ws = null\r\n    if (event.code === 1000) {\r\n      return;\r\n      // прерываемся если подключение установлено\r\n    }\r\n    let newWS;\r\n    do {\r\n      newWS = new WebSocket(API_URL_WS + \"api/chat/\");\r\n    } while (!newWS);\r\n    store.dispatch(setWebsocketAC(newWS));\r\n    openWS(newWS, true);\r\n    messageListenerWS(newWS);\r\n    onCloseWS(newWS);\r\n    // подключение\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\n\r\n\r\n\r\nclass DeletedItem extends React.Component {\r\n  handleClick = ()=>{\r\n    this.props.addItem(this.props.item.items, this.props.item.color);\r\n    this.props.removeFromDeleted(this.props.item.items, this.props.item.color);\r\n  }\r\n  render() { \r\n    return ( \r\n      \r\n      <div className=\"deleted-item alert-dark rounded mb-1\" onClick={this.handleClick}>\r\n        {this.props.item.items}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeletedItem;","import React from 'react';\r\n\r\nexport class Item extends React.Component {\r\n  handleClick() {\r\n    this.props.deleteItem(this.props.item, this.props.color, this.props.index);\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className='item rounded container d-flex py-1 pl-1'\r\n        onClick={() => this.handleClick()}\r\n      >\r\n        <div className=\"row w-100\">\r\n          <div className='rounded col-2 col-md-1' >\r\n            <div className='item__wrapper h-100 rounded' style={{ backgroundColor: this.props.color, minWidth:24 }}>\r\n\r\n            </div>\r\n          </div>\r\n          <div className='item__name col-10 col-md-11' >\r\n            <p className='m-0 text-left'>\r\n              {this.props.item}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { Item } from '../Item/Item';\r\n\r\nexport class GroupItem extends React.Component {\r\n  createItems = (arr) => {\r\n    \r\n    return arr.items.map((item, index)=>{\r\n      return <Item  key={index} index={index} item={item} color={arr.color} deleteItem={this.props.deleteItem}/>;\r\n    });\r\n  }\r\n  render(){\r\n    if (this.props.item.items.length===0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className='group-items rounded border'>\r\n        {this.createItems(this.props.item)}\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { saveOnLocStorage } from \"../../utils/clearList\";\r\nimport { updateDeletedAndGroups, updateGroupsWS } from \"../../websocket/websocket\";\r\nimport DeletedItem from \"../DeletedItem/DeletedItem\";\r\nimport { GroupItem } from \"../GroupItem/GroupItem\";\r\n\r\nexport class List extends React.Component {\r\n  createGroupItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <GroupItem key={index} item={item} deleteItem={this.props.deleteItem} />\r\n      );\r\n    });\r\n  };\r\n  createDeletedItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <DeletedItem\r\n          key={index}\r\n          item={item}\r\n          addItem={this.props.addItem}\r\n          removeFromDeleted={this.props.removeFromDeleted}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n\r\n  componentDidUpdate(prevProps){\r\n    if (!this.props.isAuth) {\r\n      saveOnLocStorage(this.props.groups, this.props.deletedItems);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && (prevProps.deletedItems === this.props.deletedItems) &&(JSON.stringify(prevProps.groups) !== JSON.stringify(this.props.groups)) ) {\r\n      updateGroupsWS(this.props.ws, this.props.groups, this.props.listID, this.props.currentUser.id);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && ( JSON.stringify(prevProps.deletedItems) !==  JSON.stringify(this.props.deletedItems))) {\r\n      updateDeletedAndGroups(this.props.ws, this.props.groups, this.props.deletedItems, this.props.listID, this.props.currentUser.id);\r\n    }\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"list border border-dark flex-grow-1\">\r\n        <div className=\"top mb-1\">\r\n          {this.createGroupItems(this.props.groups)}\r\n        </div>\r\n\r\n        {this.props.deletedItems.length !== 0 ? (\r\n          <div className=\"bottom border-top border-dark rounded pt-1 alert-secondary\">\r\n            {this.createDeletedItems(this.props.deletedItems)}\r\n          </div>\r\n        ) : null}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { List } from './List';\r\nimport {  addItemAC, deleteItemAC,removeFromDeletedAC } from '../../redux/ItemListReducer';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  groups: state.itemListReducer.groups,\r\n  deletedItems: state.itemListReducer.deleted,\r\n  inputValue: state.modalWindowReducer.input,\r\n  isAuth: state.userReducer.isAuth,\r\n  ws: state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser:state.userReducer.currentUser\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>{dispatch(addItemAC(item, color));},\r\n    closeModalWindow: (flag) => {dispatch(toggleWindowConditionAC(flag));},\r\n    deleteItem: (item, color, index) => {dispatch(deleteItemAC(item, color, index));},\r\n    removeFromDeleted: (item, color) => {dispatch(removeFromDeletedAC(item, color));},\r\n    \r\n  });\r\n};\r\n\r\nexport const ListCC = connect(mapStateToProps, mapDispatchToProps)(List);","import React from \"react\";\r\n// import avatar from \"../../img/person-fill.svg\";\r\n// import noAvatar from \"../../img/person-dash.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  handleClick = (e) => {\r\n    this.props.toggleMenuWindow(true);\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <header className=\"d-flex justify-content-center align-items-center my-2 p-0 container-fluid\">\r\n        <div className=\"row container-fluid\">\r\n          <div className=\"col-12 col-sm-3 container-sm p-0 d-flex align-items-center\">\r\n            <button\r\n              className=\"button btn btn-primary container-fluid p-0 h-100\"\r\n              style={{ backgroundColor: this.props.titleColor }}\r\n              onClick={(e) => this.handleClick(e)}\r\n            >\r\n              Меню\r\n            </button>\r\n          </div>\r\n\r\n          <h3\r\n            className=\"m-0 p-0 col-12 col-sm-7 pb-2\"\r\n            style={{ color: this.props.titleColor }}\r\n          >\r\n            <NavLink to=\"/\"> {this.props.titleList}</NavLink>\r\n          </h3>\r\n\r\n          <div className=\"col-12 col-sm-2 d-flex justify-content-center\">\r\n            <div\r\n              className=\"d-flex justify-content-center align-items-center rounded-circle avatar\"\r\n              style={{ backgroundColor: this.props.titleColor }}\r\n            >\r\n              <NavLink\r\n                to=\"/profile\"\r\n                className=\"w-100 h-100 d-flex justify-content-center align-items-center\"\r\n              >\r\n                \r\n                    \r\n                      <div>\r\n                      {this.props.isAuth ? (               <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"20\"\r\n                        height=\"20\"\r\n                        fill=\"currentColor\"\r\n                        class=\"bi bi-person-fill\"\r\n                        viewBox=\"0 0 16 16\"\r\n                      >\r\n                        <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                      </svg>\r\n\r\n                    ) : (\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"20\"\r\n                        height=\"20\"\r\n                        fill=\"currentColor\"\r\n                        class=\"bi bi-person-dash\"\r\n                        viewBox=\"0 0 16 16\"\r\n                      >\r\n                        <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M11 7.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z\"\r\n                        />\r\n                      </svg>\r\n                    )}\r\n                                          </div>\r\n\r\n\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Header };\r\n","import { connect } from \"react-redux\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { Header } from \"./Header\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleList: state.titleOfListReduser.title,\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n  };\r\n};\r\nexport const HeaderCC = connect(mapDispatchToState, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\n\r\nexport class AddButton extends React.Component {\r\n  handleClick = () => {\r\n    this.props.toggleWindow(true);\r\n  };\r\n  render() {\r\n    return (\r\n      <button\r\n        className=\"btn btn-primary rounded-circle button-crear-add d-flex\"\r\n        onClick={this.handleClick}\r\n        style={{backgroundColor:this.props.titleColor}}\r\n      >\r\n        <svg\r\n          width=\"1.5em\"\r\n          height=\"1.5em\"\r\n          viewBox=\"0 0 16 16\"\r\n          className=\"bi bi-plus\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z\"\r\n          />\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { AddButton } from './AddButton';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>({\r\n  toggleWindow: (flag) =>{\r\n    return dispatch(toggleWindowConditionAC(flag));\r\n  }\r\n});\r\n\r\nexport const AddButtonCC = connect( mapDispatchToState, mapDispatchToProps)(AddButton); ","import React from \"react\";\r\nimport { updateGroupsWS } from \"../../websocket/websocket\";\r\nexport class ModalWindowWrapper extends React.Component {\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    this.props.addItem(this.props.inputValue, this.props.colorSelected);\r\n    this.props.toggleModalWindow(false);\r\n    // this.props.ws && updateGroupsWS(this.props.ws, this.props.groups, this.props.listID);\r\n    this.props.changeInput(\"\");\r\n\r\n  };\r\n  \r\n  handleInput = (e) => {\r\n    this.props.changeInput(e.target.value);\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-start mt-3 w-100 flex-wrap\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n    \r\n          <div\r\n            className=\"modal-window__wraper border border-primary rounded-top form-group m-0 row justify-content-md-center col-lg-6 col-md-8 col-sm-10 col-12 h-50\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <form\r\n              className=\"modal-window__form d-flex flex-column p-3 container-fluid\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <div className=\"modal-window__input-container row m-0\">\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-9 mb-1\">\r\n                <input\r\n                  placeholder=\"Введите название товара\"\r\n                  type=\"text\"\r\n                  onChange={(e) => this.handleInput(e)}\r\n                  className=\"w-100 h-100 modal-window__input\"\r\n                  required\r\n                />\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-3 p-0\">\r\n                  <button className=\"btn btn-secondary\" type=\"submit\">\r\n                    Добавить\r\n                  </button>\r\n                </div>\r\n                \r\n              </div>\r\n              {this.displayColorsBtn(\r\n                this.props.colors,\r\n                this.props.colorSelected\r\n              )}\r\n            </form>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { ModalWindowWrapper } from \"./ModalwindowWrapper\";\r\nimport \"../../App.css\";\r\n\r\nexport class ModalWindow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      input: ''\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.toggleModalWindow(false);\r\n    this.props.addItem(this.state.input, this.props.colorSelected);\r\n      \r\n    this.setState({input: ''});\r\n    // this.props.changeInput(\"\");\r\n  };\r\n  handleClick = () => {\r\n    this.props.toggleModalWindow(false);\r\n  };\r\n  handleInput = (e) => {\r\n    this.setState({input: e.target.value});\r\n    // this.props.changeInput(e.target.value);\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-around mt-3 w-75\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\" vw-100 row modal-window d-flex fixed-top justify-content-center align-items-end container-fluid m-0 \"\r\n        onClick={(e) => this.handleClick(e)}\r\n      >\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={1000}\r\n          classNames={{\r\n            enter: \"alert-enter\",\r\n            enterActive: \"alert-enter-done\",\r\n            exit: \"alert-exit\",\r\n            exitActive: \"alert-exit-done\",\r\n          }}\r\n          mountOnEnter\r\n          unmountOnExit\r\n          onExited={() => this.props.toggleModalWindow(false)}\r\n        >\r\n          <ModalWindowWrapper \r\n            {...this.props} \r\n            changeInput={(arg)=>this.setState({input:arg}) }\r\n            inputValue={this.state.input} \r\n            \r\n            />\r\n        </CSSTransition>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { addItemAC } from '../../redux/ItemListReducer';\r\nimport { changeInputAC, selectColorAC, toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\nimport { updateGroupsWS } from '../../websocket/websocket';\r\nimport { ModalWindow } from './ModalWindow';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  colors: state.itemListReducer.groups.map(item=>item.color),\r\n  // inputValue: state.modalWindowReducer.input,\r\n  colorSelected: state.modalWindowReducer.colorSelected,\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  listID: state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  groups: state.itemListReducer.groups,\r\n\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>dispatch(addItemAC(item, color)),\r\n    toggleModalWindow: (flag) => dispatch(toggleWindowConditionAC(flag)),\r\n    // changeInput: (value) => {dispatch(changeInputAC(value));},\r\n    selectColor: (value) => dispatch(selectColorAC(value)),\r\n    updateGroupsWS: (ws, groups, listID)=>dispatch(updateGroupsWS(ws, groups, listID))\r\n  });\r\n};\r\n\r\nexport const ModalWindowCC = connect(mapStateToProps, mapDispatchToProps)(ModalWindow);","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setListOfListsAC, setSharedListsAC } from \"../redux/listReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\nimport { store } from \"../redux/store\";\r\nimport { changeListID } from \"../websocket/websocket\";\r\n\r\nexport const ceateList = (name, color) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/list/create`,\r\n        {\r\n          name,\r\n          color,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error.response.data.message, \"--error--\");\r\n    }\r\n  };\r\n};\r\nexport const getLists = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n      if (!store.getState().titleOfListReduser._id) {\r\n        dispatch(setNameofListAC(response.data[0].name));\r\n        dispatch(setColorofListAC(response.data[0].color));\r\n        dispatch(setAllGroupsAC({groups:response.data[0].groups,deleted:response.data[0].deleted}));\r\n        dispatch(setIDListAC(response.data[0]._id));\r\n      }\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\nexport const getList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      console.log(response.data, \"getList\");\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      changeListID(store.getState().chatReducer.ws,response.data._id);\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const getSharedList = (userID) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/sharedLists/${userID}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setSharedListsAC(response.data));\r\n      \r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveList = (name, color, _id, groups, deleted) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(\r\n        `${API_URL}api/list/save`,\r\n        {\r\n          name,\r\n          color,\r\n          _id, \r\n          groups, \r\n          deleted\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));  // потом убрать\r\n      dispatch(setNameofListAC(response.data.name));  \r\n      dispatch(setColorofListAC(response.data.color));  \r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.delete(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};","import React from 'react';\r\n\r\nconst ColorRequired = (props) => {\r\n  const visible = \"alert alert-warning\";\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center \">\r\n      <div\r\n        className={props.visible ? visible+ ' visible' : visible + ' invisible'} \r\n        role=\"alert\">\r\n        Ты забыла выбрать цвет!\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ColorRequired };","import React from \"react\";\r\nimport { CirclePicker } from 'react-color';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {ColorRequired} from './ColorRequired';\r\n\r\nclass BottomSubMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      valueTitle: '',\r\n      color: {},\r\n      colorRequire:false\r\n\r\n    };\r\n  }\r\n  setColorRequire(){\r\n    this.setState({colorRequire : true});\r\n    setTimeout(()=>this.setState({colorRequire : false}),3000);\r\n  };\r\n  handleChangeComplete = (color) => {\r\n    this.setState({ color: color.hex });\r\n    this.setState({colorRequire : false});\r\n  };\r\n  handleClickDelete = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n\r\n  }\r\n  handleClickEdit = (e) => {\r\n    if (typeof this.state.color === 'string') {\r\n      this.props.saveList(this.state.valueTitle, this.state.color,this.props._id, this.props.groups, this.props.deleted);\r\n      this.props.toggleMenuWindow(false);\r\n      this.props.menuLocaleState({\r\n        isOpenAlertWindow: false,\r\n        isOpenSubmenu: false,\r\n        isOpenEditTitle: false,\r\n        isOpenCreateNewList: false,\r\n      });\r\n      return null;\r\n    }\r\n    this.setColorRequire();\r\n  }\r\n  handleClickCreateNew = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n    this.props.ceateList(this.state.valueTitle, this.state.color);\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"bottom-submenu position-absolute bg-danger w-100 h-75 d-flex flex-column\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <ColorRequired visible={this.state.colorRequire}/>\r\n        {this.props.isOpenEditTitle &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Изменить список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickEdit(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.isOpenCreateNewList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Новый список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickCreateNew(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.deleteCurrentList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center\">\r\n            <h3 className=\"bottom-submenu__title mt-2\">Удалить список</h3>\r\n            <div className=\"bottom-submeny__wrapper-botton d-flex justify-content-around w-50 mt-2\">\r\n              <NavLink\r\n                to='/' className=\"btn btn-warning\" onClick={e => {\r\n                  this.handleClickDelete(e);\r\n                  return this.props.deleteList(this.props._id);\r\n                }\r\n                }>Удалить</NavLink>\r\n              <NavLink to='/' className=\"btn btn-light\">Отмена</NavLink>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { BottomSubMenu };","import { connect } from \"react-redux\";\r\nimport { BottomSubMenu } from \"./BottomSubMenu\";\r\nimport { toggleMenuWindowAC } from \"../../../redux/menuReducer\";\r\nimport { ceateList, deleteList, saveList } from \"../../../http/list.actions\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  _id:state.titleOfListReduser._id,\r\n  groups: state.itemListReducer.groups,\r\n  deleted: state.itemListReducer.deleted,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n\r\n    saveList:(name, color, _id, groups, deleted) => {\r\n        dispatch(saveList(name, color, _id, groups, deleted));\r\n      },\r\n    toggleMenuWindow: flag => {\r\n      dispatch(toggleMenuWindowAC(flag));\r\n    },\r\n    ceateList:(name, color)=>dispatch(ceateList(name, color)),\r\n    deleteList:(listId)=>dispatch(deleteList(listId))\r\n  });\r\n};\r\n\r\nexport const BottomSubMenuCC = connect(mapStateToProps, mapDispatchToProps)(BottomSubMenu);\r\n","import React from 'react';\r\n\r\nconst ItemMenu = (props) => {\r\n\r\n  const setMenuStateHandler=()=>{\r\n    switch (props.titleSubMenuLinks) {\r\n      case 'Создать новый список':\r\n        props.menuLocaleState({\r\n          isOpenEditTitle: false,\r\n          isOpenCreateNewList: true,\r\n          deleteCurrentList: false\r\n        });\r\n        break;\r\n        case 'Удалить текущий список':\r\n          props.menuLocaleState({\r\n            isOpenEditTitle: false,\r\n            isOpenCreateNewList: false,\r\n            deleteCurrentList: true\r\n          });\r\n          break;\r\n          case 'Сохранить список в профиле':\r\n            props.menuLocaleState({\r\n              isOpenEditTitle: false,\r\n              isOpenCreateNewList: false,\r\n              deleteCurrentList: false\r\n            });\r\n            props.saveList();\r\n            break;\r\n            case 'Редактировать название списка':\r\n              props.menuLocaleState({\r\n                isOpenEditTitle: true,\r\n                isOpenCreateNewList: false,\r\n                deleteCurrentList: false\r\n              });\r\n              break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n  return ( \r\n    <div\r\n              className=\"menu__item alert-primary w-100\"\r\n              onClick={e => {\r\n                setMenuStateHandler();\r\n                if (props.titleSubMenuLinks !=='Сохранить список в профиле') {\r\n                  return props.isOpenSubmenu(e);\r\n                }\r\n              }}\r\n            >\r\n              {props.titleSubMenuLinks}\r\n            </div>\r\n  );\r\n};\r\n\r\n\r\nexport {ItemMenu};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { BottomSubMenuCC } from './BottomSubMenu/BottomSubMenuCC';\r\nimport { ItemMenu } from './ItemMenu';\r\n// сделать DRY\r\nclass Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n      deleteCurrentList: false,\r\n      titleSubMenuLinks: [\r\n        'Создать новый список',\r\n        'Удалить текущий список',\r\n        'Сохранить список в профиле',\r\n        'Редактировать название списка'\r\n      ]\r\n    };\r\n  }\r\n  saveListHandler() {\r\n    const { title, color, _id, groups, deleted } = this.props;\r\n    if (_id) {\r\n      this.props.saveList(\r\n        title, color, _id, groups, deleted\r\n      );\r\n    }\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n    this.setState({ isOpenEditTitle: false });\r\n  }\r\n  closeAlertWindow(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n  isOpenSubmenu(e) {\r\n    e.stopPropagation();\r\n    this.setState({ isOpenSubmenu: true });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"menu__background modal-window fixed-top\" onClick={(e) => this.closeAlertWindow(e)}>\r\n        <CSSTransition\r\n          in={this.state.isOpenSubmenu}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <BottomSubMenuCC\r\n            isOpenEditTitle={this.state.isOpenEditTitle}\r\n            isOpenCreateNewList={this.state.isOpenCreateNewList}\r\n            deleteCurrentList={this.state.deleteCurrentList}\r\n\r\n            menuLocaleState={(arg) => this.setState(arg)}\r\n          />\r\n        </CSSTransition>\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <div\r\n            className=\"menu container-fluid d-flex flex-column justify-content-start align-items-center px-0 zindex-sticky shadow\"\r\n            onClick={e => e.stopPropagation()}\r\n          >\r\n            {this.state.titleSubMenuLinks.map(title => (\r\n              this.props.isAuth\r\n                ? <ItemMenu\r\n                  key={title}\r\n                  titleSubMenuLinks={title}\r\n                  isOpenSubmenu={e => this.isOpenSubmenu(e)}\r\n                  menuLocaleState={(arg) => this.setState(arg)}\r\n                  saveList={() => this.saveListHandler()}\r\n                />\r\n                : null)\r\n            )}\r\n\r\n            {this.props.isAuth && <NavLink\r\n              to='/messages'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Сообщения\r\n              </div>\r\n            </NavLink >}\r\n            <NavLink\r\n              to='/profile'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Мой профиль\r\n              </div>\r\n            </NavLink >\r\n          </div>\r\n        </CSSTransition>\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;","import { connect } from \"react-redux\";\r\nimport { saveList } from \"../../http/list.actions\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport Menu from \"./Menu\";\r\nconst mapDispatchToState = (state) => ({\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  title:state.titleOfListReduser.title ,\r\n  color:state.titleOfListReduser.color ,\r\n  _id:state.titleOfListReduser._id ,\r\n  groups:state.itemListReducer.groups ,\r\n  deleted:state.itemListReducer.deleted,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) =>\r\n      dispatch(toggleMenuWindowAC(flag)),\r\n    saveList: (name, color, _id, groups, deleted)=>\r\n      dispatch(saveList(name, color, _id, groups, deleted))\r\n  };\r\n};\r\nexport const MenuCC = connect(mapDispatchToState, mapDispatchToProps)(Menu);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport './messages.css';\r\nimport { updateChatWS, updateUserWS } from '../../websocket/websocket.js';\r\n\r\nclass Messages extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      burgerClicked: false,\r\n      isOpenForm: false,\r\n      messageField: '',\r\n      newUserInput:''\r\n    };\r\n  }\r\n  handleClickBurger(e) {\r\n    this.setState({ burgerClicked: !this.state.burgerClicked, isOpenForm: false });\r\n  }\r\n  setFieldValue(e) {\r\n    this.setState({ messageField: e.target.value });\r\n  }\r\n  sendMessageHandle(e) {\r\n    e.preventDefault();\r\n    if (this.props.ws) {\r\n      updateChatWS(this.props.ws, this.state.messageField, this.props.currentUser.id, this.props.currentUser.email, this.props.listID);\r\n      this.setState({ messageField: '' });\r\n    }\r\n  }\r\n\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.listID, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n  addForm(e) {\r\n    this.setState({ isOpenForm: !this.state.isOpenForm });\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getChat(this.props.listID);\r\n    }\r\n    // if (this.props.ws) {\r\n    //   this.props.ws && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\r\n    // }\r\n    \r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"messages h-100 d-flex justify-content-start container-sm flex-grow-1\">\r\n        {!this.props.isAuth && <Redirect to=\"/profile\" />}\r\n        {              // на innerWidth > 575\r\n        }\r\n        {window.innerWidth > 575\r\n          ? <aside\r\n            className={`overflow-hidden mh-100  messages__aside d-flex flex-column w-25 rounded`}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n            <div className=\"zindex-1000\" style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n              <p className=\"border-bottom m-1\">Участники чата:</p>\r\n              <div className=\"zindex-1000\">\r\n              </div>\r\n              {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n              {/* список пользователей в этом чате */}\r\n            </div>\r\n            <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n              <form className=\"messages__add-user-form\">\r\n                <input value={this.state.newUserInput} placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                <button \r\n                  className=\"btn btn-primary border\"\r\n                  onClick={e=>this.addNewUser(e)}\r\n                >\r\n                  Добавить</button>\r\n              </form>\r\n              <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.addForm(e)}\r\n              >\r\n                Добавить участника\r\n              </button>\r\n            </div>\r\n          </aside>\r\n          : <button\r\n            className={`btn-burger d-flex flex-column justify-content-around align-items-center `}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}\r\n            onClick={e => this.handleClickBurger(e)}\r\n          >\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n          </button>\r\n        }\r\n        {              // на innerWidth менее 575\r\n        }\r\n        <div className=\"messages__chat-wrapper container d-flex justify-content-start w-75 flex-column ml-1 p-0 overflow-hidden\">\r\n          <div className=\"messages__chat border border-dark w-100 container rounded flex-grow-1 px-0\">\r\n            {this.state.burgerClicked && <div className=\"\">\r\n              <aside\r\n                className={`overflow-hidden mh-100 messages__aside d-flex flex-column w-100 rounded`}\r\n              >\r\n                <div className=\"zindex-1000\" style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}>\r\n                  <p className=\"border-bottom m-1\">Участники чата:</p>\r\n                  <div className=\"zindex-1000\">\r\n                  </div>\r\n                  {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n                  {/* список пользователей в этом чате */}\r\n                </div>\r\n                <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n                  <form className=\"messages__add-user-form\">\r\n                    <input placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                    <button \r\n                      className=\"btn btn-primary border\"\r\n                      onClick={e=>this.addNewUser(e)}\r\n                    >Добавить</button>\r\n                  </form>\r\n                  <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                    style={{\r\n                      backgroundColor: `${this.props.titleColor}`,\r\n                    }}\r\n                    onClick={e => this.addForm(e)}\r\n                  >\r\n                    Добавить участника\r\n                  </button>\r\n                </div>\r\n\r\n              </aside>\r\n            </div>\r\n            }\r\n            {/* <div>сообщения</div> */}\r\n            {this.props.chat.map((msg, index) => <div\r\n              key={index}\r\n              className={`${(msg.userID === this.props.currentUser.id) ? \"text-right\" : \"text-left\"} `}\r\n            >\r\n              <span\r\n                className={`  font-weight-normal`}\r\n              >\r\n                <span className=\"font-italic\">\r\n                  {msg.email}{' :'}\r\n                </span>\r\n                {msg.message}\r\n              </span>\r\n            </div>\r\n            )}\r\n          </div>\r\n\r\n\r\n\r\n          <form className=\"messages__chat-input-wrapper d-flex mt-1 row w=100\">\r\n            <div className=\"col-12 col-sm-9 pr-sm-1 pr-md-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.messageField}\r\n                className=\"messages__chat-input form-control \"\r\n                placeholder=\"Наберика текст ...\"\r\n                onChange={e => this.setFieldValue(e)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-12 col-sm-3 p-sm-0 px-md-3\">\r\n              <button\r\n                className=\"messages__btn btn btn-primary p-0 h-100 w-100\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.sendMessageHandle(e)}\r\n              >\r\n                Отправить\r\n              </button>\r\n            </div>\r\n\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Messages };","import { connect } from \"react-redux\";\r\nimport { getChat } from \"../../http/chat.actions\";\r\nimport { updateChatAC, updateUserAC } from \"../../redux/chatReducer\";\r\nimport { Messages } from \"./Messages\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  ws: state.chatReducer.ws,\r\n  users: state.chatReducer.users,\r\n  chat: state.chatReducer.chat,\r\n  currentUser: state.userReducer.currentUser,\r\n  listID: state.titleOfListReduser._id,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    updateChat: chat=>dispatch(updateChatAC(chat)),\r\n    updateUser: users=>dispatch(updateUserAC(users)),\r\n    getChat: listID=>dispatch(getChat(listID))\r\n  });\r\n};\r\n\r\nexport const MessagesCC = connect(mapStateToProps, mapDispatchToProps)(Messages);\r\n","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { updateUserAC, updateChatAC } from \"../redux/chatReducer\";\r\n\r\nexport const getChat = (listID) =>{\r\n  return async (dispatch) =>{\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/chat/`,\r\n        {\r\n          listID\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        dispatch(hideLoaderAC());\r\n        dispatch(updateChatAC(response.data.messages));\r\n        dispatch(updateUserAC(response.data.users));\r\n\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n};","import axios from \"axios\";\r\nimport { API_URL, API_URL_WS } from \"../config\";\r\nimport { setWebsocketAC } from \"../redux/chatReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setUserAC } from \"../redux/userReducer\";\r\nimport { messageListenerWS, onCloseWS, openWS } from \"../websocket/websocket\";\r\nimport { getLists } from \"./list.actions\";\r\n\r\nexport const registration = async (email, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}api/user/registration`, {\r\n      email,\r\n      password,\r\n    });\r\n    alert(response.data.message);\r\n  } catch (error) {\r\n    console.log(error);\r\n    console.log(error.response.data.message, \"--error--\");\r\n  }\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(`${API_URL}api/user/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      dispatch(hideLoaderAC());\r\n\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n      dispatch(await getLists());\r\n      const wS = new WebSocket(API_URL_WS + 'api/chat/');\r\n      dispatch(setWebsocketAC(wS));\r\n      openWS(wS);\r\n      messageListenerWS(wS);\r\n      onCloseWS(wS);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}api/user/auth`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n    } catch (e) {\r\n      localStorage.removeItem(\"token\");\r\n      console.log(e, 'auth');\r\n    }\r\n  };\r\n};\r\n\r\nexport const changePassword = (email, password, newPassword) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(`${API_URL}api/user/changePassword`, {\r\n        email,\r\n        password,\r\n        newPassword\r\n      });\r\n      dispatch(hideLoaderAC());\r\n      alert(response.data.message);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\n","import React from \"react\";\r\n\r\nconst OneListRow = (props) => {\r\n  const handleSelectList = () =>\r\n    props.selectList(props.list._id);\r\n  return (\r\n    <p className={`rounded list-of-list mt-1 ${props.nowSelected===props.list._id && 'border'}`}\r\n      style={{ backgroundColor: props.list.color }}\r\n      onClick={() => handleSelectList()}\r\n    >\r\n      {props.list.name}\r\n    </p>\r\n  );\r\n\r\n\r\n};\r\n\r\nexport default OneListRow;","import React from \"react\";\r\nimport OneListRow from \"../Profile/OneListRow\";\r\nclass SharedList extends React.Component {\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.sharedLists.length !==0 && <section>\r\n          <p>Списки других пользователей:</p>\r\n          {this.props.sharedLists.map((list, i) => (\r\n            <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n          )\r\n          )}\r\n      </section>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default SharedList;","import {connect} from 'react-redux';\r\nimport { getList, getSharedList } from '../../http/list.actions';\r\nimport SharedList from './SharedList';\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n  sharedLists: state.listReducer.sharedLists,\r\n  currentUser:state.userReducer.currentUser\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n\r\n    \r\n  });\r\n};\r\n\r\nexport const SharedListsCC = connect(mapStateToProps, mapDispatchToProps)(SharedList);","import React, { useState, useEffect  } from \"react\";\r\n\r\n\r\nconst ChangePasswordWindow = (props) => {\r\n  const [password, setPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPasswordDouble, setNewPasswordDouble] = useState('');\r\n  const [submitDisabled, setSubmitDisabled] = useState(false);\r\n\r\n  const checkNewPassword = ()=>{\r\n    if (!!password && !!newPasswordDouble && !!newPassword && (newPasswordDouble === newPassword)) {\r\n      return setSubmitDisabled (true);\r\n    }\r\n    setSubmitDisabled (false); // доделать проверку\r\n  };\r\n  useEffect (()=>checkNewPassword(),[password,newPasswordDouble,newPassword] );\r\n  \r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeChPasForm({ changePasswordFormIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-light p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Сменить пароль</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password\">Старый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password\"\r\n            value={password}\r\n            placeholder=\"Введите cтарый пароль\"\r\n\r\n            onChange={(e) => {setPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password1\">Новый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password1\"\r\n            value={newPassword}\r\n            placeholder=\"Введите новый пароль\"\r\n\r\n            onChange={(e) => {setNewPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n                    <input\r\n            type=\"password\"\r\n            className=\"form-control mt-1\"\r\n            id=\"Password2\"\r\n            value={newPasswordDouble}\r\n            placeholder=\"Повторите новый пароль\"\r\n            onChange={(e) => {setNewPasswordDouble(e.target.value);\r\n              // checkNewPassword();\r\n\r\n            }}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          disabled={!submitDisabled}\r\n          onClick={() => {\r\n            props.closeChPasForm({ changePasswordFormIsOpen: false });\r\n            return props.setnewpassword(props.email, password, newPassword);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ChangePasswordWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst LoginWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ loginWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-info p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Вход</h3>\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={() => {\r\n            props.closeForm({ loginWindowIsOpen: false });\r\n            return props.loginHandler(email, password);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { LoginWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst RegistrationWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ redistrationWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-success p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n\r\n      >\r\n        <h3 className=\"registration\">Регистрация</h3>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">Мы никогда никому не передадим Вашу электронную почту.</small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={(e) => {\r\n            props.closeForm({ redistrationWindowIsOpen: false });\r\n            props.registrationHandler(email, password);\r\n            return e.preventDefault();\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { RegistrationWindow };","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { registration } from \"../../http/user.action\";\r\nimport { updateUserWS } from \"../../websocket/websocket\";\r\nimport { SharedListsCC } from \"../SharedList/SharedListsCC\";\r\nimport { ChangePasswordWindow } from \"./ChangePasswordWindow\";\r\nimport { LoginWindow } from \"./LoginWindow\";\r\nimport OneListRow from \"./OneListRow\";\r\nimport { RegistrationWindow } from \"./RegistrationWindow\";\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    loginWindowIsOpen: false,\r\n    redistrationWindowIsOpen: false,\r\n    changePasswordFormIsOpen: false,\r\n    shareListForm: false,\r\n    newUserInput:''\r\n  }\r\n  loginHandler(email, password) {\r\n    this.props.login(email, password);\r\n  }\r\n  registrationHandler(email, password) {\r\n    registration(email, password);\r\n  }\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.selectedListId, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getSharedList(this.props.userID);\r\n      return this.props.getLists(this.props.userID);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      if (localStorage.getItem(\"token\")) {\r\n        this.props.getSharedList(this.props.userID);\r\n        return this.props.getLists(this.props.userID);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  openSendfield(e) {\r\n    e.preventDefault();\r\n    this.setState({ shareListForm: !this.state.shareListForm });\r\n\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"profile d-flex flex-column justify-content-start container-fluid \">\r\n        {this.state.changePasswordFormIsOpen\r\n          && <ChangePasswordWindow\r\n            closeChPasForm={(arg) => this.setState(arg)}\r\n            email={this.props.email}\r\n            setnewpassword={(e, p, newP) => this.props.changePassword(e, p, newP)}\r\n          />}\r\n        {this.props.isAuth\r\n          ?\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md\">\r\n                <div className=\"profile__data d-flex flex-column justify-content-start align-items-start\">\r\n                  <p className=\"profile__email\">Почта : {this.props.email}</p>\r\n                  <button\r\n                    className=\"profile__close btn border border-dark w-md-50 bg-light\"\r\n                    style={{ сolor: this.props.titleColor }}\r\n                    onClick={() => this.setState({ changePasswordFormIsOpen: true })}\r\n\r\n                  >\r\n                    Сменить пароль\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md\">\r\n                <p>Списки покупок:</p>\r\n                {this.props.lists.map((list, i) => (\r\n                  <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n                )\r\n                )}\r\n                <div className=\"container overflow-hidden pb-1\" >\r\n                  <form className={`row profile__form-wrapper ${this.state.shareListForm && 'profile__form-wrapper_active'}`}>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <input className=\"w-100 rounded\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email пользователя...\" value={this.state.newUserInput} onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n\r\n                    </div>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <button className=\"btn btn-warning w-100 text-center\" onClick={e=>this.addNewUser(e)}>\r\n                        Поделиться\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                  <button\r\n                    disabled={!this.props.selectedListId}\r\n                    className=\"btn btn-warning\"\r\n                    onClick={e => this.openSendfield(e)}\r\n                  >\r\n                    Поделиться списком\r\n                  </button>\r\n                  <SharedListsCC />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\"\r\n            >\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <NavLink\r\n                  to='/'\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                >\r\n                  Закрыть\r\n                </NavLink>\r\n              </div>\r\n\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                  onClick={() => {\r\n                    this.props.clearLists();\r\n                    this.props.logout();\r\n                    this.props.setListFromStorage();\r\n                    if (this.props.ws) {\r\n                      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\r\n\r\n                    }\r\n                  }\r\n\r\n                  }\r\n                >\r\n                  Выйти из профиля\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n          :\r\n          <div className=\"container-fluid\">\r\n            {this.state.loginWindowIsOpen\r\n              ? <LoginWindow closeForm={(arg) => this.setState(arg)}\r\n                loginHandler={(email, password) => this.loginHandler(email, password)} />\r\n              : null}\r\n            {this.state.redistrationWindowIsOpen\r\n              ? <RegistrationWindow\r\n                closeForm={(arg) => this.setState(arg)}\r\n                registrationHandler={(email, password) => this.registrationHandler(email, password)}\r\n              />\r\n              : null}\r\n            <div className=\"row justify-content-around\">\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-info\"\r\n                  onClick={() => this.setState({ loginWindowIsOpen: true })}\r\n                >\r\n                  Войти\r\n                </button>\r\n              </div>\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => this.setState({ redistrationWindowIsOpen: true })}\r\n                >\r\n                  Зарегистрироваться\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n        {!this.props.isAuth && <p>Войдите или зарегистрируйтесь, чтобы создать несколько списков</p>}\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport { Profile };","import { connect } from \"react-redux\";\r\nimport { getList, getLists, getSharedList } from \"../../http/list.actions\";\r\nimport { changePassword, login } from \"../../http/user.action\";\r\nimport { clearListsAC } from \"../../redux/listReducer\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { logoutAC } from \"../../redux/userReducer\";\r\nimport { setListFromStorage } from \"../../utils/clearList\";\r\nimport { Profile } from \"./Profile\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n  email: state.userReducer.currentUser.email,\r\n  lists: state.listReducer.lists,\r\n  selectedListId:state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  userID: state.userReducer.currentUser.id,\r\n\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n    login: (email, password)=> dispatch(login(email, password)),\r\n    logout: ()=>dispatch(logoutAC()),\r\n    getLists:()=>dispatch(getLists()),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n    clearLists:()=>dispatch(clearListsAC()),\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n\r\n    changePassword: (email,password, newPassword) => dispatch(changePassword(email,password, newPassword))\r\n  };\r\n};\r\n\r\nexport const ProfileCC = connect(mapDispatchToState, mapDispatchToProps)(Profile);\r\n","import React from \"react\";\r\n\r\n\r\nclass Spinner extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"spinner__wrapper\">\r\n        <div className=\"spinner-border\" style={{ color: this.props.color, backgroundColor: this.props.color }} role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    );\r\n  };\r\n};\r\n\r\nexport { Spinner };","import { connect } from \"react-redux\";\r\nimport { Spinner } from \"./Spinner\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  \r\n  };\r\n};\r\nexport const SpinnerCC = connect(mapDispatchToState, mapDispatchToProps)(Spinner);\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { initialState, setAllGroupsAC } from \"../../redux/ItemListReducer\";\r\nimport { clearLocStorage } from \"../../utils/clearList\";\r\n\r\nexport function ClearButton() {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    clearLocStorage();\r\n    dispatch(setAllGroupsAC({groups: initialState.groups, deleted: []})); \r\n  };\r\n    return (\r\n      <button\r\n        className=\"btn btn-warning rounded-circle button-crear-add d-flex \"\r\n        onClick={(e)=>handleClick(e)}\r\n      >\r\n        <svg \r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          width=\"1.5em\" \r\n          height=\"1.5em\" \r\n          fill=\"currentColor\" \r\n          className=\"bi bi-arrow-90deg-left\" \r\n          viewBox=\"0 0 16 16\">\r\n          <path fillRule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\" />\r\n        </svg>\r\n      </button>\r\n    );\r\n  \r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { ListCC } from \"./components/List/ListCC\";\nimport { HeaderCC } from \"./components/Header/HeaderCC\";\nimport { AddButtonCC } from \"./components/AddButton/AddButtonCC\";\nimport { ModalWindowCC } from \"./components/ModalWindow/ModalWindowCC\";\nimport { MenuCC } from \"./components/Menu/MenuCC\";\nimport { MessagesCC } from \"./components/Messages/MessagesCC\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ProfileCC } from \"./components/Profile/ProfileCC\";\nimport { SpinnerCC } from \"./components/Spinner/SpinnerCC\";\nimport { ClearButton } from \"./components/AddButton/ClearButton\";\nimport { firstConnectWS } from \"./websocket/websocket\";\n\nexport default class App extends React.Component {\n  componentDidMount(){\n    if (!this.props.isAuth) {\n      this.props.setListFromStorage();\n    }\n\n    \n    }\n  \n  componentWillUnmount() {\n    if (this.props.ws) {\n      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\n\n    }\n    localStorage.removeItem(\"token\");\n    this.props.clearLists();\n  }\n  componentDidUpdate(prevProps){\n    \n    if (!this.props.isAuth) {\n      this.props.clearLists();\n      this.props.setListFromStorage();\n    }\n    prevProps.ws==null && this.props.ws && this.props.ws.readyState === 1 && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\n    \n  }\n  // shouldComponentUpdate(nextProps){\n  //   return nextProps.isAuth !== this.props.isAuth;\n  // }\n  render() {\n    return (\n      <div className=\"App mx-auto \">\n        {this.props.loader && <SpinnerCC />}\n        {this.props.isOpenMenu && <MenuCC />}\n        <main className=\"container-sm d-flex flex-column justify-content-between main\">\n          <HeaderCC />\n          <Switch>\n            <Route path=\"/messages\" history={this.props.history}>\n              <MessagesCC />\n            </Route>\n            <Route path=\"/profile\" history={this.props.history}>\n              <ProfileCC />\n            </Route>\n            <Route path=\"/\" history={this.props.history}>\n              <ListCC />\n              <div className={`d-flex justify-content-${this.props.isAuth?'center':'between'} button-add`}>\n                <AddButtonCC />\n                {!this.props.isAuth && <ClearButton />}\n              </div>\n            </Route>\n          </Switch>\n          <footer className=\"d-flex justify-content-end align-items-end footer\">\n            <p className=\"mb-1\">&copy; Балашов Максим</p>\n          </footer>\n        </main>\n        {this.props.isOpen && <ModalWindowCC />}\n      </div>\n    );\n  }\n}\n","import { connect } from \"react-redux\";\r\nimport { toggleWindowConditionAC } from \"./redux/modalWindowReducer\";\r\nimport App from \"./App\";\r\nimport { showMessagesAC } from \"./redux/menuReducer\";\r\nimport { setListFromStorage } from \"./utils/clearList\";\r\nimport { clearListsAC } from \"./redux/listReducer\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  isOpenMessages: state.menuReducer.isOpenMessages,\r\n  loader: state.loaderReducer.loader,\r\n  isAuth:state.userReducer.isAuth,\r\n  ws:state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser: state.userReducer.currentUser,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    toggleModalWindow: (flag) => {\r\n      dispatch(toggleWindowConditionAC(flag));\r\n    },\r\n    showMessages: (flag) => {\r\n      dispatch(showMessagesAC(flag));\r\n    },\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    clearLists: ()=>dispatch(clearListsAC())\r\n  });\r\n};\r\n\r\nexport const AppCC = connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { AppCC } from \"./AppCC\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { store } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nconst history = createBrowserHistory();\n\n\nReactDOM.render(\n  <Router history={history}>\n    <Provider store={store}>\n      <AppCC />\n    </Provider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}