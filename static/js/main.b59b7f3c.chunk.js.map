{"version":3,"sources":["img/person-fill.svg","img/person-dash.svg","redux/modalWindowReducer.js","redux/ItemListReducer.js","redux/titleOfListReduser.js","utils/clearList.js","config.js","redux/chatReducer.js","redux/menuReducer.js","redux/userReducer.js","redux/loaderReducer.js","redux/listReducer.js","redux/store.js","websocket/websocket.js","components/DeletedItem/DeletedItem.jsx","components/Item/Item.js","components/GroupItem/GroupItem.js","components/List/List.js","components/List/ListCC.js","components/Header/Header.js","components/Header/HeaderCC.js","components/AddButton/AddButton.js","components/AddButton/AddButtonCC.js","components/ModalWindow/ModalwindowWrapper.jsx","components/ModalWindow/ModalWindow.js","components/ModalWindow/ModalWindowCC.js","http/list.actions.js","components/Menu/BottomSubMenu/ColorRequired.jsx","components/Menu/BottomSubMenu/BottomSubMenu.jsx","components/Menu/BottomSubMenu/BottomSubMenuCC.js","components/Menu/ItemMenu.jsx","components/Menu/Menu.jsx","components/Menu/MenuCC.js","components/Messages/Messages.jsx","components/Messages/MessagesCC.js","http/chat.actions.js","http/user.action.js","components/Profile/OneListRow.jsx","components/SharedList/SharedList.jsx","components/SharedList/SharedListsCC.js","components/Profile/ChangePasswordWindow.jsx","components/Profile/LoginWindow.jsx","components/Profile/RegistrationWindow.jsx","components/Profile/Profile.jsx","components/Profile/ProfileCC.js","components/Spinner/Spinner.jsx","components/Spinner/SpinnerCC.js","components/AddButton/ClearButton.jsx","App.js","AppCC.js","serviceWorker.js","index.js"],"names":["module","exports","initialState","isOpen","input","colorSelected","toggleWindowConditionAC","flag","type","payload","groups","color","items","deleted","addItemAC","item","setAllGroupsAC","data","title","_id","setNameofListAC","name","setColorofListAC","setIDListAC","id","setListFromStorage","JSON","parse","localStorage","getItem","dispatch","a","error","console","log","API_URL","defaultState","users","chat","ws","updateChatAC","updateUserAC","setWebsocketAC","isOpenMenu","isOpenMessages","toggleMenuWindowAC","currentUser","isAuth","setUserAC","user","loader","lists","sharedLists","setListOfListsAC","redusers","combineReducers","itemListReducer","state","action","map","filter","itemOfList","index","indexForRemove","findIndex","num","modalWindowReducer","titleOfListReduser","menuReducer","userReducer","removeItem","loaderReducer","listReducer","objectList","chatReducer","store","createStore","applyMiddleware","thunk","openWS","reconnect","onopen","event","send","stringify","firstConnectWS","getState","email","messageListenerWS","onmessage","length","listID","userID","message","updateGroupsWS","updateUserWS","userEmail","onCloseWS","onclose","info","code","reason","newWS","WebSocket","API_URL_WS","DeletedItem","handleClick","props","addItem","removeFromDeleted","className","onClick","this","React","Component","Item","deleteItem","style","backgroundColor","minWidth","GroupItem","createItems","arr","key","List","createGroupItems","createDeletedItems","prevProps","deletedItems","setItem","updateDeletedAndGroups","ListCC","connect","inputValue","closeModalWindow","deleteItemAC","removeFromDeletedAC","Header","e","toggleMenuWindow","titleColor","to","titleList","src","avatar","noAvatar","alt","HeaderCC","AddButton","toggleWindow","width","height","viewBox","fill","fillRule","d","AddButtonCC","ModalWindowWrapper","handleSubmit","preventDefault","toggleModalWindow","changeInput","handleInput","target","value","handleSelectColor","selectColor","displayColorsBtn","colors","selectedColor","colorBtn","stopPropagation","onSubmit","placeholder","onChange","required","ModalWindow","setState","isOpenAlertWindow","CSSTransition","in","timeout","classNames","enter","enterActive","exit","exitActive","mountOnEnter","unmountOnExit","onExited","arg","ModalWindowCC","getLists","axios","get","headers","Authorization","response","getList","listId","getSharedList","saveList","put","ColorRequired","visible","role","BottomSubMenu","handleChangeComplete","hex","colorRequire","handleClickDelete","menuLocaleState","isOpenSubmenu","isOpenEditTitle","isOpenCreateNewList","handleClickEdit","valueTitle","setColorRequire","handleClickCreateNew","ceateList","setTimeout","onChangeComplete","deleteCurrentList","deleteList","BottomSubMenuCC","post","delete","ItemMenu","titleSubMenuLinks","setMenuStateHandler","Menu","closeAlertWindow","saveListHandler","activeClassName","MenuCC","Messages","burgerClicked","isOpenForm","messageField","newUserInput","getChat","window","innerWidth","userid","addNewUser","addForm","handleClickBurger","msg","setFieldValue","sendMessageHandle","MessagesCC","updateChat","updateUser","messages","registration","password","alert","OneListRow","nowSelected","list","selectList","SharedList","i","handleSelectList","selectedListId","SharedListsCC","ChangePasswordWindow","useState","setPassword","newPassword","setNewPassword","newPasswordDouble","setNewPasswordDouble","submitDisabled","setSubmitDisabled","useEffect","checkNewPassword","closeChPasForm","changePasswordFormIsOpen","htmlFor","disabled","setnewpassword","LoginWindow","setEmail","closeForm","loginWindowIsOpen","aria-describedby","loginHandler","RegistrationWindow","redistrationWindowIsOpen","registrationHandler","Profile","shareListForm","login","p","newP","changePassword","сolor","openSendfield","clearLists","logout","close","ProfileCC","token","wS","Spinner","SpinnerCC","ClearButton","useDispatch","xmlns","App","readyState","path","history","AppCC","showMessages","showMessagesAC","Boolean","location","hostname","match","createBrowserHistory","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","unregister","catch"],"mappings":"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","file":"static/js/main.b59b7f3c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/person-fill.6997f58a.svg\";","module.exports = __webpack_public_path__ + \"static/media/person-dash.e5af426a.svg\";","const initialState = {\r\n  isOpen: false,\r\n  input: \"\",\r\n  colorSelected: \"red\",\r\n};\r\n\r\nconst TOGGLE_WINDOW_CONDITION = \"TOGGLE_WINDOW_CONDITION\";\r\n// const CHANGE_INPUT = \"CHANGE_INPUT\";\r\nconst SELECT_COLOR = \"SELECT_COLOR\";\r\n\r\nexport const toggleWindowConditionAC = (flag) => ({\r\n  type: TOGGLE_WINDOW_CONDITION,\r\n  payload: flag,\r\n});\r\n// export const changeInputAC = (value) => ({\r\n//   type: CHANGE_INPUT,\r\n//   payload: value,\r\n// });\r\nexport const selectColorAC = (color) => ({\r\n  type: SELECT_COLOR,\r\n  payload: color,\r\n});\r\nexport const modalWindowReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_WINDOW_CONDITION:\r\n      return { ...state, isOpen: action.payload };\r\n    // case CHANGE_INPUT:\r\n    //   return { ...state, input: action.payload };\r\n    case SELECT_COLOR:\r\n      return { ...state, colorSelected: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  groups: [\r\n    {\r\n      color: \"red\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"green\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"blue\",\r\n      items: []\r\n    },\r\n    {\r\n      color: \"gray\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"cyan\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"yellow\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"indigo\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"midnightblue\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"salmon\",\r\n      items: [],\r\n    },\r\n    {\r\n      color: \"orange\",\r\n      items: [],\r\n    },\r\n  ],\r\n  deleted: [],\r\n};\r\n\r\nconst ADD_ITEM = \"ADD_ITEM\";\r\nconst DELETE_ITEM = \"DELETE_ITEM\";\r\nconst REMOVE_FROM_DELETED = \"REMOVE_FROM_DELETED\";\r\nconst SET_ALL_GROUPS = \"SET_ALL_GROUPS\";\r\nconst SET_GROUPS = \"SET_GROUPS\";\r\n\r\nexport const addItemAC = (item, color) => {\r\n  return {\r\n    type: ADD_ITEM,\r\n    item: item,\r\n    color: color,\r\n  };\r\n};\r\nexport const deleteItemAC = (item, color, index) => {\r\n  return {\r\n    type: DELETE_ITEM,\r\n    item: item,\r\n    color: color,\r\n    index: index,\r\n  };\r\n};\r\nexport const removeFromDeletedAC = (item, color) => {\r\n  return {\r\n    type: REMOVE_FROM_DELETED,\r\n    item: item,\r\n    color: color,\r\n\r\n  };\r\n};\r\nexport const setAllGroupsAC = (data) => {\r\n  return {\r\n    type: SET_ALL_GROUPS,\r\n    payload: data\r\n\r\n  };\r\n};\r\nexport const setOnlyGroupsAC = (groups) => {\r\n  return {\r\n    type: SET_GROUPS,\r\n    payload: groups\r\n  };\r\n};\r\n\r\nexport const itemListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? { ...item, items: [...item.items, action.item] }\r\n            : item\r\n        ),\r\n      };\r\n    case DELETE_ITEM:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.map((item) =>\r\n          item.color === action.color\r\n            ? {\r\n                ...item,\r\n                items: item.items.filter(\r\n                  (itemOfList, index) => action.index !== index\r\n                ),\r\n              }\r\n            : item\r\n        ),\r\n        deleted: [\r\n          ...state.deleted,\r\n          { items: action.item, color: action.color, index: action.index },\r\n        ],\r\n      };\r\n    case REMOVE_FROM_DELETED:\r\n      const indexForRemove = state.deleted.findIndex(item=>(item.color === action.color && item.items === action.item)); \r\n      return {\r\n        ...state,\r\n        deleted: state.deleted.filter((item, num) => num !== indexForRemove),\r\n      };\r\n      case SET_ALL_GROUPS:\r\n        return {\r\n          ...state,\r\n          groups: [...action.payload.groups],\r\n          deleted: [...action.payload.deleted],\r\n        };\r\n        case SET_GROUPS:\r\n          return {\r\n            ...state,\r\n            groups: [...action.payload],\r\n          };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const initialState = {\r\n  \r\n      title: \"Список покупок\",\r\n      color: \"#007bff\",\r\n      _id:''\r\n};\r\nconst SET_TITLE = \"SET_TITLE\";\r\nconst SET_COLOR = \"SET_COLOR\";\r\nconst SET_ID = \"SET_ID\";\r\n\r\n\r\n\r\nexport const setNameofListAC = (name) => {\r\n  return {\r\n    type: SET_TITLE,\r\n    payload: name,\r\n  };\r\n};\r\nexport const setColorofListAC = (color) => {\r\n  return {\r\n    type: SET_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\nexport const setIDListAC = (id) => {\r\n  return {\r\n    type: SET_ID,\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const titleOfListReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TITLE:\r\n      return {\r\n        ...state,\r\n        title: action.payload,\r\n      };\r\n    case SET_COLOR:\r\n      return {\r\n        ...state,\r\n        color: action.payload,\r\n      };\r\n      case SET_ID:\r\n      return {\r\n        ...state,\r\n        _id: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport function saveOnLocStorage(groups, deleted) {\r\n  localStorage.setItem('groups',JSON.stringify(groups) );\r\n  localStorage.setItem('deleted', JSON.stringify(deleted));\r\n}\r\nexport function clearLocStorage() {\r\n  localStorage.setItem('groups', null);\r\n  localStorage.setItem('deleted', null);\r\n\r\n}\r\n\r\n\r\nexport function setListFromStorage() {\r\n  if (!JSON.parse(localStorage.getItem('groups'))) {\r\n    return async (dispatch)=>{};\r\n  }\r\n  return async (dispatch)=>{\r\n    const groups = JSON.parse(localStorage.getItem('groups'));\r\n    const deleted = JSON.parse(localStorage.getItem('deleted'));\r\n    try {\r\n        dispatch(setAllGroupsAC({groups, deleted}));\r\n        //------------------------------------------\r\n        dispatch(setIDListAC(''));\r\n        dispatch(setColorofListAC(\"#007bff\"));\r\n        dispatch(setNameofListAC(\"Список покупок\"));\r\n      \r\n    } catch (error) {\r\n      console.log(error); \r\n    }\r\n  };\r\n\r\n  \r\n}","export const API_URL = 'http://localhost:5000/';\r\nexport const API_URL_WS = 'ws://localhost:5000/';","export const defaultState = {\r\n  users: [],\r\n  chat: [],\r\n  ws: null,\r\n};\r\n\r\nconst UPDATE_CHAT = \"UPDATE_CHAT\";\r\nconst UPDATE_USERS = \"UPDATE_USERS\";\r\nconst SET_WEBSOCKET = \"SET_WEBSOCKET\";\r\n//action creater\r\n\r\nexport const updateChatAC = (chat) => ({ type: UPDATE_CHAT, payload: chat });\r\nexport const updateUserAC = (users) => ({ type: UPDATE_USERS, payload: users });\r\nexport const setWebsocketAC = (ws) => ({ type: SET_WEBSOCKET, payload: ws });\r\n\r\nexport function chatReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.payload],\r\n      };\r\n    case UPDATE_CHAT:\r\n      return { ...state, chat: [...action.payload] };\r\n    case SET_WEBSOCKET:\r\n      return { ...state, ws: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  isOpenMenu:   false,\r\n  isOpenMessages: false\r\n\r\n};\r\n\r\nconst TOGGLE_MENU = \"TOGGLE_MENU\";\r\nconst CREATE_NEW_SHOP_LIST = \"CREATE_NEW_SHOP_LIST\";\r\nconst DELETE_THIS_SHOP_LIST = \"DELETE_THIS_SHOP_LIST\";\r\n\r\nconst SHOW_MESSAGES = \"SHOW_MESSAGES\";\r\n\r\nexport const toggleMenuWindowAC = (flag) => ({\r\n  type: TOGGLE_MENU,\r\n  payload: flag,\r\n});\r\nexport const createNewShopListAC = (flag) => ({\r\n  type: CREATE_NEW_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const deleteCurrentListAC = (flag) => ({\r\n  type: DELETE_THIS_SHOP_LIST,\r\n  payload: flag,\r\n});\r\nexport const showMessagesAC = (flag) => ({\r\n  type: SHOW_MESSAGES,\r\n  payload: flag,\r\n});\r\n\r\n\r\n\r\nexport const menuReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_MENU:\r\n      return { ...state, isOpenMenu: action.payload };\r\n      case SHOW_MESSAGES:\r\n        return { ...state, isOpenMenu: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\nconst defaultState = {\r\n  currentUser: {},\r\n  isAuth: false,\r\n};\r\n\r\nconst SET_USER = \"SET_USER\";\r\nconst LOGOUT = \"LOGOUT\";\r\nconst CHANGE_EMAIL = \"CHANGE_EMAIL\";\r\n//action creater\r\n\r\nexport const setUserAC = user => ({type: SET_USER, payload: user});\r\nexport const logoutAC = () => ({ type: LOGOUT });\r\nexport const changeUserEmailAC = (email) => ({type: CHANGE_EMAIL, payload: email});// доделать\r\nexport function userReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state, currentUser: action.payload, isAuth: true};\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"token\");\r\n      return {...state, currentUser: {},isAuth: false};\r\n      case CHANGE_EMAIL:\r\n      return {...state, currentUser: {},isAuth: false};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","const defaultState = {\r\n  loader: false,\r\n};\r\n\r\nconst SHOW_LOADER = \"SHOW_LOADER\";\r\nconst HIDE_LOADER = \"HIDE_LOADER\";\r\n\r\nexport function loaderReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loader: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loader: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showLoaderAC = () => ({ type: SHOW_LOADER });\r\nexport const hideLoaderAC = () => ({ type: HIDE_LOADER });\r\n","const initialState = {\r\n  lists: [],\r\n  sharedLists:[],\r\n};\r\n\r\nconst SAVE_LIST = \"SAVE_LIST\";\r\nconst DELETE_LIST = \"DELETE_LIST\";\r\nconst SET_LIST_OF_LISTS = \"SET_LIST_OF_LISTS\";\r\nconst SET_SHARED_LISTS = \"SET_SHARED_LISTS\";\r\nconst CLEAR_LISTS = \"CLEAR_LISTS\";\r\n\r\nexport const saveListAC = (list) => ({\r\n  type: SAVE_LIST,\r\n  payload: list,\r\n});\r\n\r\nexport const deleteListAC = () => ({\r\n  type: DELETE_LIST,\r\n});\r\nexport const setListOfListsAC = (lists) => ({\r\n  type: SET_LIST_OF_LISTS,\r\n  payload: lists,\r\n});\r\nexport const setSharedListsAC = (lists) => ({\r\n  type: SET_SHARED_LISTS,\r\n  payload: lists,\r\n});\r\n\r\nexport const clearListsAC = () => ({\r\n  type: CLEAR_LISTS,\r\n});\r\n\r\nexport const listReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SAVE_LIST:\r\n      return { ...state, isOpen: action.payload };\r\n\r\n    case DELETE_LIST:\r\n      return { ...state, colorSelected: action.payload };\r\n    \r\n    case SET_LIST_OF_LISTS:\r\n      return {\r\n        ...state,\r\n        lists: action.payload.map((objectList) => ({\r\n          name: objectList.name,\r\n          color: objectList.color,\r\n          _id: objectList._id,\r\n        })),\r\n      };\r\n      case SET_SHARED_LISTS:\r\n        return {\r\n          ...state,\r\n          sharedLists: action.payload.map((objectList) => ({\r\n            name: objectList.name,\r\n            color: objectList.color,\r\n            _id: objectList._id,\r\n          })),\r\n        };      \r\n    case CLEAR_LISTS:\r\n      return { ...state, lists:[] };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware  } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {itemListReducer} from './ItemListReducer';\r\nimport {modalWindowReducer} from './modalWindowReducer';\r\nimport {titleOfListReduser} from './titleOfListReduser';\r\nimport {menuReducer} from './menuReducer';\r\nimport {userReducer} from './userReducer';\r\nimport {loaderReducer} from './loaderReducer';\r\nimport {listReducer} from './listReducer';\r\nimport {chatReducer} from './chatReducer';\r\n\r\n\r\nconst redusers = combineReducers({\r\n  itemListReducer,\r\n  modalWindowReducer,\r\n  titleOfListReduser,\r\n  menuReducer,\r\n  userReducer,\r\n  loaderReducer,\r\n  listReducer,\r\n  chatReducer\r\n\r\n});\r\n\r\nexport const store = createStore(redusers, applyMiddleware(thunk));","import { API_URL_WS } from \"../config\";\r\nimport {\r\n  setWebsocketAC,\r\n  updateChatAC,\r\n  \r\n} from \"../redux/chatReducer\";\r\nimport { setAllGroupsAC, setOnlyGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { store } from \"../redux/store\";\r\nimport { setColorofListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\n\r\nexport const openWS = async (ws, reconnect = null) => {\r\n  ws.onopen = (event) => {\r\n    reconnect \r\n    ? ws.send(\r\n      JSON.stringify({\r\n        event: \"connection\",\r\n      })\r\n    )\r\n    : firstConnectWS (\r\n      ws,\r\n      store.getState().titleOfListReduser._id,\r\n      store.getState().userReducer.currentUser.id, \r\n      store.getState().userReducer.currentUser.email\r\n      );\r\n      \r\n\r\n    \r\n  };\r\n};\r\n\r\nexport const messageListenerWS = (ws) => {\r\n  try {\r\n    ws.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      switch (data.event) {\r\n        case \"updateUser\":\r\n          if (data.users.length === 0) {\r\n            break;\r\n          }\r\n          break;\r\n        case \"wellDone\":\r\n          const listID = store.getState().titleOfListReduser._id;\r\n          const userID = store.getState().userReducer.currentUser.id;\r\n          const email = store.getState().userReducer.currentUser.email;\r\n          listID \r\n            ? firstConnectWS (ws, listID, userID, email)\r\n            : console.log(listID, \"listID on firstConnectWS\");\r\n          break;\r\n        case \"updateChat\":\r\n          store.dispatch(updateChatAC(data.message));\r\n          break;\r\n        case \"updateGroups\":\r\n          store.dispatch(setOnlyGroupsAC(data.groups));\r\n          break;\r\n        case \"updateDeletedAndGroups\":\r\n          store.dispatch(\r\n            setAllGroupsAC({ groups: data.groups, deleted: data.deleted })\r\n          );\r\n          break;\r\n        case \"updateNameOfList\":\r\n          store.dispatch(setNameofListAC(data.name));\r\n          break;\r\n        case \"updateColorOfList\":\r\n          store.dispatch(setColorofListAC(data.color));\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  } catch (error) {}\r\n};\r\n\r\nexport const updateChatWS = (ws, message, user, email, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateChat\",\r\n      message,\r\n      user,\r\n      email,\r\n      listID,\r\n    })\r\n  );\r\n};\r\n\r\nexport const updateGroupsWS = (ws, groups, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateGroups\",\r\n      groups,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n};\r\nexport const updateUserWS = (ws, listID, userEmail) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateUser\",\r\n      listID,\r\n      userEmail,\r\n    })\r\n  );\r\n};\r\nexport const updateDeletedAndGroups = (ws, groups, deleted, listID, userID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"updateDeletedAndGroups\",\r\n      groups,\r\n      deleted,\r\n      listID,\r\n      userID,\r\n    })\r\n  );\r\n};\r\n\r\nexport const firstConnectWS = (ws, listID, userID, email) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"firstConnect\",\r\n      listID,\r\n      userID,\r\n      user: email,\r\n    })\r\n  );\r\n};\r\n\r\nexport const changeListID = (ws, listID) => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      event: \"changeListID\",\r\n      listID,\r\n    })\r\n  );\r\n};\r\nexport const onCloseWS = (ws) => {\r\n  ws.onclose = (event) => {\r\n    console.info(`WebSocket closed with code ${event.code}! ${event.reason}`);\r\n    store.dispatch(setWebsocketAC(null)); // ws = null\r\n    if (event.code === 1000) {\r\n      return;\r\n      // прерываемся если подключение установлено\r\n    }\r\n    let newWS;\r\n    do {\r\n      newWS = new WebSocket(API_URL_WS + \"api/chat/\");\r\n    } while (!newWS);\r\n    store.dispatch(setWebsocketAC(newWS));\r\n    openWS(newWS, true);\r\n    messageListenerWS(newWS);\r\n    onCloseWS(newWS);\r\n    // подключение\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\n\r\n\r\n\r\nclass DeletedItem extends React.Component {\r\n  handleClick = ()=>{\r\n    this.props.addItem(this.props.item.items, this.props.item.color);\r\n    this.props.removeFromDeleted(this.props.item.items, this.props.item.color);\r\n  }\r\n  render() { \r\n    return ( \r\n      \r\n      <div className=\"deleted-item alert-dark rounded mb-1\" onClick={this.handleClick}>\r\n        {this.props.item.items}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeletedItem;","import React from 'react';\r\n\r\nexport class Item extends React.Component {\r\n  handleClick() {\r\n    this.props.deleteItem(this.props.item, this.props.color, this.props.index);\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className='item rounded container d-flex py-1 pl-1'\r\n        onClick={() => this.handleClick()}\r\n      >\r\n        <div className=\"row w-100\">\r\n          <div className='rounded col-2 col-md-1' >\r\n            <div className='item__wrapper h-100 rounded' style={{ backgroundColor: this.props.color, minWidth:24 }}>\r\n\r\n            </div>\r\n          </div>\r\n          <div className='item__name col-10 col-md-11' >\r\n            <p className='m-0 text-left'>\r\n              {this.props.item}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { Item } from '../Item/Item';\r\n\r\nexport class GroupItem extends React.Component {\r\n  createItems = (arr) => {\r\n    \r\n    return arr.items.map((item, index)=>{\r\n      return <Item  key={index} index={index} item={item} color={arr.color} deleteItem={this.props.deleteItem}/>;\r\n    });\r\n  }\r\n  render(){\r\n    if (this.props.item.items.length===0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className='group-items rounded border'>\r\n        {this.createItems(this.props.item)}\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { saveOnLocStorage } from \"../../utils/clearList\";\r\nimport { updateDeletedAndGroups, updateGroupsWS } from \"../../websocket/websocket\";\r\nimport DeletedItem from \"../DeletedItem/DeletedItem\";\r\nimport { GroupItem } from \"../GroupItem/GroupItem\";\r\n\r\nexport class List extends React.Component {\r\n  createGroupItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <GroupItem key={index} item={item} deleteItem={this.props.deleteItem} />\r\n      );\r\n    });\r\n  };\r\n  createDeletedItems = (arr) => {\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <DeletedItem\r\n          key={index}\r\n          item={item}\r\n          addItem={this.props.addItem}\r\n          removeFromDeleted={this.props.removeFromDeleted}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  componentDidMount(){\r\n    // this.props.ws && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\r\n\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if (!this.props.isAuth) {\r\n      saveOnLocStorage(this.props.groups, this.props.deletedItems);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && (prevProps.deletedItems === this.props.deletedItems) &&(JSON.stringify(prevProps.groups) !== JSON.stringify(this.props.groups)) ) {\r\n      updateGroupsWS(this.props.ws, this.props.groups, this.props.listID, this.props.currentUser.id);\r\n    }\r\n    if (this.props.isAuth && this.props.ws && ( JSON.stringify(prevProps.deletedItems) !==  JSON.stringify(this.props.deletedItems))) {\r\n      updateDeletedAndGroups(this.props.ws, this.props.groups, this.props.deletedItems, this.props.listID, this.props.currentUser.id);\r\n    }\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"list border border-dark flex-grow-1\">\r\n        <div className=\"top mb-1\">\r\n          {this.createGroupItems(this.props.groups)}\r\n        </div>\r\n\r\n        {this.props.deletedItems.length !== 0 ? (\r\n          <div className=\"bottom border-top border-dark rounded pt-1 alert-secondary\">\r\n            {this.createDeletedItems(this.props.deletedItems)}\r\n          </div>\r\n        ) : null}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { List } from './List';\r\nimport {  addItemAC, deleteItemAC,removeFromDeletedAC } from '../../redux/ItemListReducer';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  groups: state.itemListReducer.groups,\r\n  deletedItems: state.itemListReducer.deleted,\r\n  inputValue: state.modalWindowReducer.input,\r\n  isAuth: state.userReducer.isAuth,\r\n  ws: state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser:state.userReducer.currentUser\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>{dispatch(addItemAC(item, color));},\r\n    closeModalWindow: (flag) => {dispatch(toggleWindowConditionAC(flag));},\r\n    deleteItem: (item, color, index) => {dispatch(deleteItemAC(item, color, index));},\r\n    removeFromDeleted: (item, color) => {dispatch(removeFromDeletedAC(item, color));},\r\n    \r\n  });\r\n};\r\n\r\nexport const ListCC = connect(mapStateToProps, mapDispatchToProps)(List);","import React from \"react\";\r\nimport avatar from \"../../img/person-fill.svg\";\r\nimport noAvatar from \"../../img/person-dash.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  handleClick = (e) => {\r\n    this.props.toggleMenuWindow(true);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"d-flex justify-content-center align-items-center my-2 p-0 container-fluid\">\r\n        <div className=\"row container-fluid\">\r\n          <div className=\"col-12 col-sm-3 container-sm p-0 d-flex align-items-center\">\r\n          <button\r\n            className=\"button btn btn-primary container-fluid p-0 h-100\"\r\n            style={{ backgroundColor: this.props.titleColor }}\r\n            onClick={(e) => this.handleClick(e)}\r\n          >\r\n            Меню\r\n          </button>\r\n          </div>\r\n          \r\n\r\n          <h3\r\n            className=\"m-0 p-0 col-12 col-sm-7 pb-2\"\r\n            style={{ color: this.props.titleColor }}\r\n          >\r\n            <NavLink to=\"/\"> {this.props.titleList}</NavLink>\r\n          </h3>\r\n\r\n            <div className=\"col-12 col-sm-2 d-flex justify-content-center\">\r\n              <div\r\n                className=\"d-flex justify-content-center align-items-center rounded-circle avatar\"\r\n                style={{ backgroundColor: this.props.titleColor }}\r\n              >\r\n                <NavLink\r\n                  to=\"/profile\"\r\n                  className=\"w-100 h-100 d-flex justify-content-center align-items-center\"\r\n                >\r\n                  <img src={this.props.isAuth ? avatar: noAvatar} alt=\"avatar\" />\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n          \r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Header };\r\n","import { connect } from \"react-redux\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { Header } from \"./Header\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleList: state.titleOfListReduser.title,\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n  };\r\n};\r\nexport const HeaderCC = connect(mapDispatchToState, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\n\r\nexport class AddButton extends React.Component {\r\n  handleClick = () => {\r\n    this.props.toggleWindow(true);\r\n  };\r\n  render() {\r\n    return (\r\n      <button\r\n        className=\"btn btn-primary rounded-circle button-crear-add d-flex\"\r\n        onClick={this.handleClick}\r\n        style={{backgroundColor:this.props.titleColor}}\r\n      >\r\n        <svg\r\n          width=\"1.5em\"\r\n          height=\"1.5em\"\r\n          viewBox=\"0 0 16 16\"\r\n          className=\"bi bi-plus\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z\"\r\n          />\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { AddButton } from './AddButton';\r\nimport { toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\n\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>({\r\n  toggleWindow: (flag) =>{\r\n    return dispatch(toggleWindowConditionAC(flag));\r\n  }\r\n});\r\n\r\nexport const AddButtonCC = connect( mapDispatchToState, mapDispatchToProps)(AddButton); ","import React from \"react\";\r\nimport { updateGroupsWS } from \"../../websocket/websocket\";\r\nexport class ModalWindowWrapper extends React.Component {\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    this.props.addItem(this.props.inputValue, this.props.colorSelected);\r\n    this.props.toggleModalWindow(false);\r\n    // this.props.ws && updateGroupsWS(this.props.ws, this.props.groups, this.props.listID);\r\n    this.props.changeInput(\"\");\r\n\r\n  };\r\n  \r\n  handleInput = (e) => {\r\n    this.props.changeInput(e.target.value);\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-start mt-3 w-100 flex-wrap\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded m-1\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n    \r\n          <div\r\n            className=\"modal-window__wraper border border-primary rounded-top form-group m-0 row justify-content-md-center col-lg-6 col-md-8 col-sm-10 col-12 h-50\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <form\r\n              className=\"modal-window__form d-flex flex-column p-3 container-fluid\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <div className=\"modal-window__input-container row m-0\">\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-9 mb-1\">\r\n                <input\r\n                  placeholder=\"Введите название товара\"\r\n                  type=\"text\"\r\n                  onChange={(e) => this.handleInput(e)}\r\n                  className=\"w-100 h-100 modal-window__input\"\r\n                  required\r\n                />\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 col-md-12 col-lg-3 p-0\">\r\n                  <button className=\"btn btn-secondary\" type=\"submit\">\r\n                    Добавить\r\n                  </button>\r\n                </div>\r\n                \r\n              </div>\r\n              {this.displayColorsBtn(\r\n                this.props.colors,\r\n                this.props.colorSelected\r\n              )}\r\n            </form>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { ModalWindowWrapper } from \"./ModalwindowWrapper\";\r\nimport \"../../App.css\";\r\n\r\nexport class ModalWindow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      input: ''\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.toggleModalWindow(false);\r\n    this.props.addItem(this.state.input, this.props.colorSelected);\r\n      \r\n    this.setState({input: ''});\r\n    // this.props.changeInput(\"\");\r\n  };\r\n  handleClick = () => {\r\n    this.props.toggleModalWindow(false);\r\n  };\r\n  handleInput = (e) => {\r\n    this.setState({input: e.target.value});\r\n    // this.props.changeInput(e.target.value);\r\n  };\r\n  handleSelectColor = (event, color) => {\r\n    event.preventDefault();\r\n    this.props.selectColor(color);\r\n  };\r\n  displayColorsBtn = (colors, selectedColor) => {\r\n    return (\r\n      <div className=\"modal-window__btn-wrapper d-flex justify-content-around mt-3 w-75\">\r\n        {colors.map((colorBtn, index) =>\r\n          selectedColor === colorBtn ? (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn modal-window__border border-white rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              className=\"modal-window__color-btn rounded\"\r\n              style={{ backgroundColor: colorBtn }}\r\n              onClick={(e) => this.handleSelectColor(e, colorBtn)}\r\n            ></button>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\" vw-100 row modal-window d-flex fixed-top justify-content-center align-items-end container-fluid m-0 \"\r\n        onClick={(e) => this.handleClick(e)}\r\n      >\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={1000}\r\n          classNames={{\r\n            enter: \"alert-enter\",\r\n            enterActive: \"alert-enter-done\",\r\n            exit: \"alert-exit\",\r\n            exitActive: \"alert-exit-done\",\r\n          }}\r\n          mountOnEnter\r\n          unmountOnExit\r\n          onExited={() => this.props.toggleModalWindow(false)}\r\n        >\r\n          <ModalWindowWrapper \r\n            {...this.props} \r\n            changeInput={(arg)=>this.setState({input:arg}) }\r\n            inputValue={this.state.input} \r\n            \r\n            />\r\n        </CSSTransition>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {connect} from 'react-redux';\r\nimport { addItemAC } from '../../redux/ItemListReducer';\r\nimport { changeInputAC, selectColorAC, toggleWindowConditionAC } from '../../redux/modalWindowReducer';\r\nimport { updateGroupsWS } from '../../websocket/websocket';\r\nimport { ModalWindow } from './ModalWindow';\r\n\r\nconst mapStateToProps = (state) =>({\r\n  colors: state.itemListReducer.groups.map(item=>item.color),\r\n  // inputValue: state.modalWindowReducer.input,\r\n  colorSelected: state.modalWindowReducer.colorSelected,\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  listID: state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  groups: state.itemListReducer.groups,\r\n\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    addItem : (item, color) =>dispatch(addItemAC(item, color)),\r\n    toggleModalWindow: (flag) => dispatch(toggleWindowConditionAC(flag)),\r\n    // changeInput: (value) => {dispatch(changeInputAC(value));},\r\n    selectColor: (value) => dispatch(selectColorAC(value)),\r\n    updateGroupsWS: (ws, groups, listID)=>dispatch(updateGroupsWS(ws, groups, listID))\r\n  });\r\n};\r\n\r\nexport const ModalWindowCC = connect(mapStateToProps, mapDispatchToProps)(ModalWindow);","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { setAllGroupsAC } from \"../redux/ItemListReducer\";\r\nimport { setListOfListsAC, setSharedListsAC } from \"../redux/listReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setColorofListAC, setIDListAC, setNameofListAC } from \"../redux/titleOfListReduser\";\r\nimport { store } from \"../redux/store\";\r\nimport { changeListID } from \"../websocket/websocket\";\r\n\r\nexport const ceateList = (name, color) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/list/create`,\r\n        {\r\n          name,\r\n          color,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error.response.data.message, \"--error--\");\r\n    }\r\n  };\r\n};\r\nexport const getLists = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n      if (!store.getState().titleOfListReduser._id) {\r\n        dispatch(setNameofListAC(response.data[0].name));\r\n        dispatch(setColorofListAC(response.data[0].color));\r\n        dispatch(setAllGroupsAC({groups:response.data[0].groups,deleted:response.data[0].deleted}));\r\n        dispatch(setIDListAC(response.data[0]._id));\r\n      }\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\nexport const getList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      console.log(response.data, \"getList\");\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setNameofListAC(response.data.name));\r\n      dispatch(setColorofListAC(response.data.color));\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));\r\n      dispatch(setIDListAC(response.data._id));\r\n      changeListID(store.getState().chatReducer.ws,response.data._id);\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const getSharedList = (userID) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.get(\r\n        `${API_URL}api/list/sharedLists/${userID}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setSharedListsAC(response.data));\r\n      \r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveList = (name, color, _id, groups, deleted) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(\r\n        `${API_URL}api/list/save`,\r\n        {\r\n          name,\r\n          color,\r\n          _id, \r\n          groups, \r\n          deleted\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(setAllGroupsAC({groups:response.data.groups,deleted:response.data.deleted}));  // потом убрать\r\n      dispatch(setNameofListAC(response.data.name));  \r\n      dispatch(setColorofListAC(response.data.color));  \r\n      dispatch(setIDListAC(response.data._id));\r\n      dispatch(hideLoaderAC());\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.delete(\r\n        `${API_URL}api/list/${listId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      dispatch(hideLoaderAC());\r\n      dispatch(setListOfListsAC(response.data));\r\n    } catch (error) {\r\n      console.log(error, \"--error--\");\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};","import React from 'react';\r\n\r\nconst ColorRequired = (props) => {\r\n  const visible = \"alert alert-warning\";\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center \">\r\n      <div\r\n        className={props.visible ? visible+ ' visible' : visible + ' invisible'} \r\n        role=\"alert\">\r\n        Ты забыла выбрать цвет!\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ColorRequired };","import React from \"react\";\r\nimport { CirclePicker } from 'react-color';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {ColorRequired} from './ColorRequired';\r\n\r\nclass BottomSubMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      valueTitle: '',\r\n      color: {},\r\n      colorRequire:false\r\n\r\n    };\r\n  }\r\n  setColorRequire(){\r\n    this.setState({colorRequire : true});\r\n    setTimeout(()=>this.setState({colorRequire : false}),3000);\r\n  };\r\n  handleChangeComplete = (color) => {\r\n    this.setState({ color: color.hex });\r\n    this.setState({colorRequire : false});\r\n  };\r\n  handleClickDelete = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n\r\n  }\r\n  handleClickEdit = (e) => {\r\n    if (typeof this.state.color === 'string') {\r\n      this.props.saveList(this.state.valueTitle, this.state.color,this.props._id, this.props.groups, this.props.deleted);\r\n      this.props.toggleMenuWindow(false);\r\n      this.props.menuLocaleState({\r\n        isOpenAlertWindow: false,\r\n        isOpenSubmenu: false,\r\n        isOpenEditTitle: false,\r\n        isOpenCreateNewList: false,\r\n      });\r\n      return null;\r\n    }\r\n    this.setColorRequire();\r\n  }\r\n  handleClickCreateNew = (e) => {\r\n    this.props.toggleMenuWindow(false);\r\n    this.props.menuLocaleState({\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n    });\r\n    this.setState({colorRequire : false});\r\n    this.props.ceateList(this.state.valueTitle, this.state.color);\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"bottom-submenu position-absolute bg-danger w-100 h-75 d-flex flex-column\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <ColorRequired visible={this.state.colorRequire}/>\r\n        {this.props.isOpenEditTitle &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Изменить список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickEdit(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.isOpenCreateNewList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center mb-3\">\r\n            <h3 className=\"bottom-submenu__title\">Новый список</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название списка\"\r\n              className=\" mb-3\"\r\n              onChange={e => this.setState({ valueTitle: e.target.value })}\r\n            />\r\n            <CirclePicker\r\n              color={this.state.color}\r\n              onChangeComplete={this.handleChangeComplete}\r\n            />\r\n            <NavLink to='/' className=\"btn btn-light mt-3\" onClick={e => this.handleClickCreateNew(e)}>Применить</NavLink>\r\n          </div>\r\n        }\r\n        {this.props.deleteCurrentList &&\r\n          <div className=\"container d-flex flex-column justify-content-center align-items-center\">\r\n            <h3 className=\"bottom-submenu__title mt-2\">Удалить список</h3>\r\n            <div className=\"bottom-submeny__wrapper-botton d-flex justify-content-around w-50 mt-2\">\r\n              <NavLink\r\n                to='/' className=\"btn btn-warning\" onClick={e => {\r\n                  this.handleClickDelete(e);\r\n                  return this.props.deleteList(this.props._id);\r\n                }\r\n                }>Удалить</NavLink>\r\n              <NavLink to='/' className=\"btn btn-light\">Отмена</NavLink>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { BottomSubMenu };","import { connect } from \"react-redux\";\r\nimport { BottomSubMenu } from \"./BottomSubMenu\";\r\nimport { toggleMenuWindowAC } from \"../../../redux/menuReducer\";\r\nimport { ceateList, deleteList, saveList } from \"../../../http/list.actions\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  _id:state.titleOfListReduser._id,\r\n  groups: state.itemListReducer.groups,\r\n  deleted: state.itemListReducer.deleted,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n\r\n    saveList:(name, color, _id, groups, deleted) => {\r\n        dispatch(saveList(name, color, _id, groups, deleted));\r\n      },\r\n    toggleMenuWindow: flag => {\r\n      dispatch(toggleMenuWindowAC(flag));\r\n    },\r\n    ceateList:(name, color)=>dispatch(ceateList(name, color)),\r\n    deleteList:(listId)=>dispatch(deleteList(listId))\r\n  });\r\n};\r\n\r\nexport const BottomSubMenuCC = connect(mapStateToProps, mapDispatchToProps)(BottomSubMenu);\r\n","import React from 'react';\r\n\r\nconst ItemMenu = (props) => {\r\n\r\n  const setMenuStateHandler=()=>{\r\n    switch (props.titleSubMenuLinks) {\r\n      case 'Создать новый список':\r\n        props.menuLocaleState({\r\n          isOpenEditTitle: false,\r\n          isOpenCreateNewList: true,\r\n          deleteCurrentList: false\r\n        });\r\n        break;\r\n        case 'Удалить текущий список':\r\n          props.menuLocaleState({\r\n            isOpenEditTitle: false,\r\n            isOpenCreateNewList: false,\r\n            deleteCurrentList: true\r\n          });\r\n          break;\r\n          case 'Сохранить список в профиле':\r\n            props.menuLocaleState({\r\n              isOpenEditTitle: false,\r\n              isOpenCreateNewList: false,\r\n              deleteCurrentList: false\r\n            });\r\n            props.saveList();\r\n            break;\r\n            case 'Редактировать название списка':\r\n              props.menuLocaleState({\r\n                isOpenEditTitle: true,\r\n                isOpenCreateNewList: false,\r\n                deleteCurrentList: false\r\n              });\r\n              break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n  return ( \r\n    <div\r\n              className=\"menu__item alert-primary w-100\"\r\n              onClick={e => {\r\n                setMenuStateHandler();\r\n                if (props.titleSubMenuLinks !=='Сохранить список в профиле') {\r\n                  return props.isOpenSubmenu(e);\r\n                }\r\n              }}\r\n            >\r\n              {props.titleSubMenuLinks}\r\n            </div>\r\n  );\r\n};\r\n\r\n\r\nexport {ItemMenu};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { BottomSubMenuCC } from './BottomSubMenu/BottomSubMenuCC';\r\nimport { ItemMenu } from './ItemMenu';\r\n// сделать DRY\r\nclass Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpenAlertWindow: false,\r\n      isOpenSubmenu: false,\r\n      isOpenEditTitle: false,\r\n      isOpenCreateNewList: false,\r\n      deleteCurrentList: false,\r\n      titleSubMenuLinks: [\r\n        'Создать новый список',\r\n        'Удалить текущий список',\r\n        'Сохранить список в профиле',\r\n        'Редактировать название списка'\r\n      ]\r\n    };\r\n  }\r\n  saveListHandler() {\r\n    const { title, color, _id, groups, deleted } = this.props;\r\n    if (_id) {\r\n      this.props.saveList(\r\n        title, color, _id, groups, deleted\r\n      );\r\n    }\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isOpenAlertWindow: true });\r\n    this.setState({ isOpenEditTitle: false });\r\n  }\r\n  closeAlertWindow(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.props.toggleMenuWindow(false);\r\n  }\r\n  isOpenSubmenu(e) {\r\n    e.stopPropagation();\r\n    this.setState({ isOpenSubmenu: true });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"menu__background modal-window fixed-top\" onClick={(e) => this.closeAlertWindow(e)}>\r\n        <CSSTransition\r\n          in={this.state.isOpenSubmenu}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <BottomSubMenuCC\r\n            isOpenEditTitle={this.state.isOpenEditTitle}\r\n            isOpenCreateNewList={this.state.isOpenCreateNewList}\r\n            deleteCurrentList={this.state.deleteCurrentList}\r\n\r\n            menuLocaleState={(arg) => this.setState(arg)}\r\n          />\r\n        </CSSTransition>\r\n        <CSSTransition\r\n          in={this.state.isOpenAlertWindow}\r\n          timeout={300}\r\n          classNames=\"menu-transition\"\r\n          unmountOnExit\r\n        >\r\n          <div\r\n            className=\"menu container-fluid d-flex flex-column justify-content-start align-items-center px-0 zindex-sticky shadow\"\r\n            onClick={e => e.stopPropagation()}\r\n          >\r\n            {this.state.titleSubMenuLinks.map(title => (\r\n              this.props.isAuth\r\n                ? <ItemMenu\r\n                  key={title}\r\n                  titleSubMenuLinks={title}\r\n                  isOpenSubmenu={e => this.isOpenSubmenu(e)}\r\n                  menuLocaleState={(arg) => this.setState(arg)}\r\n                  saveList={() => this.saveListHandler()}\r\n                />\r\n                : null)\r\n            )}\r\n\r\n            {this.props.isAuth && <NavLink\r\n              to='/messages'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Сообщения\r\n              </div>\r\n            </NavLink >}\r\n            <NavLink\r\n              to='/profile'\r\n              activeClassName={\"menu__item alert-primary w-100\"}\r\n              className=\"menu__item alert-primary w-100\"\r\n            >\r\n              <div\r\n                className=\"menu__item alert-primary w-100\"\r\n                onClick={e => {\r\n                  this.props.toggleMenuWindow(false);\r\n                }}\r\n              >\r\n                Мой профиль\r\n              </div>\r\n            </NavLink >\r\n          </div>\r\n        </CSSTransition>\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;","import { connect } from \"react-redux\";\r\nimport { saveList } from \"../../http/list.actions\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport Menu from \"./Menu\";\r\nconst mapDispatchToState = (state) => ({\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  title:state.titleOfListReduser.title ,\r\n  color:state.titleOfListReduser.color ,\r\n  _id:state.titleOfListReduser._id ,\r\n  groups:state.itemListReducer.groups ,\r\n  deleted:state.itemListReducer.deleted,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) =>\r\n      dispatch(toggleMenuWindowAC(flag)),\r\n    saveList: (name, color, _id, groups, deleted)=>\r\n      dispatch(saveList(name, color, _id, groups, deleted))\r\n  };\r\n};\r\nexport const MenuCC = connect(mapDispatchToState, mapDispatchToProps)(Menu);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport './messages.css';\r\nimport { updateChatWS, updateUserWS } from '../../websocket/websocket.js';\r\n\r\nclass Messages extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      burgerClicked: false,\r\n      isOpenForm: false,\r\n      messageField: '',\r\n      newUserInput:''\r\n    };\r\n  }\r\n  handleClickBurger(e) {\r\n    this.setState({ burgerClicked: !this.state.burgerClicked, isOpenForm: false });\r\n  }\r\n  setFieldValue(e) {\r\n    this.setState({ messageField: e.target.value });\r\n  }\r\n  sendMessageHandle(e) {\r\n    e.preventDefault();\r\n    if (this.props.ws) {\r\n      updateChatWS(this.props.ws, this.state.messageField, this.props.currentUser.id, this.props.currentUser.email, this.props.listID);\r\n      this.setState({ messageField: '' });\r\n    }\r\n  }\r\n\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.listID, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n  addForm(e) {\r\n    this.setState({ isOpenForm: !this.state.isOpenForm });\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getChat(this.props.listID);\r\n    }\r\n    // if (this.props.ws) {\r\n    //   this.props.ws && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\r\n    // }\r\n    \r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"messages h-100 d-flex justify-content-start container-sm flex-grow-1\">\r\n        {!this.props.isAuth && <Redirect to=\"/profile\" />}\r\n        {              // на innerWidth > 575\r\n        }\r\n        {window.innerWidth > 575\r\n          ? <aside\r\n            className={`overflow-hidden mh-100  messages__aside d-flex flex-column w-25 rounded`}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n            <div className=\"zindex-1000\" style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}>\r\n              <p className=\"border-bottom m-1\">Участники чата:</p>\r\n              <div className=\"zindex-1000\">\r\n              </div>\r\n              {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n              {/* список пользователей в этом чате */}\r\n            </div>\r\n            <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n              <form className=\"messages__add-user-form\">\r\n                <input value={this.state.newUserInput} placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                <button \r\n                  className=\"btn btn-primary border\"\r\n                  onClick={e=>this.addNewUser(e)}\r\n                >\r\n                  Добавить</button>\r\n              </form>\r\n              <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.addForm(e)}\r\n              >\r\n                Добавить участника\r\n              </button>\r\n            </div>\r\n          </aside>\r\n          : <button\r\n            className={`btn-burger d-flex flex-column justify-content-around align-items-center `}\r\n            style={{\r\n              backgroundColor: `${this.props.titleColor}`,\r\n            }}\r\n            onClick={e => this.handleClickBurger(e)}\r\n          >\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n            <div className=\"btn-burger__item\"></div>\r\n          </button>\r\n        }\r\n        {              // на innerWidth менее 575\r\n        }\r\n        <div className=\"messages__chat-wrapper container d-flex justify-content-start w-75 flex-column ml-1 p-0 overflow-hidden\">\r\n          <div className=\"messages__chat border border-dark w-100 container rounded flex-grow-1 px-0\">\r\n            {this.state.burgerClicked && <div className=\"\">\r\n              <aside\r\n                className={`overflow-hidden mh-100 messages__aside d-flex flex-column w-100 rounded`}\r\n              >\r\n                <div className=\"zindex-1000\" style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}>\r\n                  <p className=\"border-bottom m-1\">Участники чата:</p>\r\n                  <div className=\"zindex-1000\">\r\n                  </div>\r\n                  {this.props.users.map((user, index) => <p userid={user._id} key={index}>{user.email}</p>)}\r\n                  {/* список пользователей в этом чате */}\r\n                </div>\r\n                <div className={`zindex-1 messages__form-wrapper ${this.state.isOpenForm && 'messages__form-wrapper_active'}`}>\r\n                  <form className=\"messages__add-user-form\">\r\n                    <input placeholder=\"E-mail...\" type=\"text\" className=\"messages__add-user-input\" onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n                    <button \r\n                      className=\"btn btn-primary border\"\r\n                      onClick={e=>this.addNewUser(e)}\r\n                    >Добавить</button>\r\n                  </form>\r\n                  <button className=\"btn btn-dark border m-1 messages__add-user\"\r\n                    style={{\r\n                      backgroundColor: `${this.props.titleColor}`,\r\n                    }}\r\n                    onClick={e => this.addForm(e)}\r\n                  >\r\n                    Добавить участника\r\n                  </button>\r\n                </div>\r\n\r\n              </aside>\r\n            </div>\r\n            }\r\n            {/* <div>сообщения</div> */}\r\n            {this.props.chat.map((msg, index) => <div\r\n              key={index}\r\n              className={`${(msg.userID === this.props.currentUser.id) ? \"text-right\" : \"text-left\"} `}\r\n            >\r\n              <span\r\n                className={`  font-weight-normal`}\r\n              >\r\n                <span className=\"font-italic\">\r\n                  {msg.email}{' :'}\r\n                </span>\r\n                {msg.message}\r\n              </span>\r\n            </div>\r\n            )}\r\n          </div>\r\n\r\n\r\n\r\n          <form className=\"messages__chat-input-wrapper d-flex mt-1 row w=100\">\r\n            <div className=\"col-12 col-sm-9 pr-sm-1 pr-md-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.messageField}\r\n                className=\"messages__chat-input form-control \"\r\n                placeholder=\"Наберика текст ...\"\r\n                onChange={e => this.setFieldValue(e)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-12 col-sm-3 p-sm-0 px-md-3\">\r\n              <button\r\n                className=\"messages__btn btn btn-primary p-0 h-100 w-100\"\r\n                style={{\r\n                  backgroundColor: `${this.props.titleColor}`,\r\n                }}\r\n                onClick={e => this.sendMessageHandle(e)}\r\n              >\r\n                Отправить\r\n              </button>\r\n            </div>\r\n\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Messages };","import { connect } from \"react-redux\";\r\nimport { getChat } from \"../../http/chat.actions\";\r\nimport { updateChatAC, updateUserAC } from \"../../redux/chatReducer\";\r\nimport { Messages } from \"./Messages\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  ws: state.chatReducer.ws,\r\n  users: state.chatReducer.users,\r\n  chat: state.chatReducer.chat,\r\n  currentUser: state.userReducer.currentUser,\r\n  listID: state.titleOfListReduser._id,\r\n  isAuth: state.userReducer.isAuth\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    updateChat: chat=>dispatch(updateChatAC(chat)),\r\n    updateUser: users=>dispatch(updateUserAC(users)),\r\n    getChat: listID=>dispatch(getChat(listID))\r\n  });\r\n};\r\n\r\nexport const MessagesCC = connect(mapStateToProps, mapDispatchToProps)(Messages);\r\n","import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { updateUserAC, updateChatAC } from \"../redux/chatReducer\";\r\n\r\nexport const getChat = (listID) =>{\r\n  return async (dispatch) =>{\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(\r\n        `${API_URL}api/chat/`,\r\n        {\r\n          listID\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        dispatch(hideLoaderAC());\r\n        dispatch(updateChatAC(response.data.messages));\r\n        dispatch(updateUserAC(response.data.users));\r\n\r\n    } catch (error) {\r\n      dispatch(hideLoaderAC());\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n};","import axios from \"axios\";\r\nimport { API_URL, API_URL_WS } from \"../config\";\r\nimport { setWebsocketAC } from \"../redux/chatReducer\";\r\nimport { hideLoaderAC, showLoaderAC } from \"../redux/loaderReducer\";\r\nimport { setUserAC } from \"../redux/userReducer\";\r\nimport { messageListenerWS, onCloseWS, openWS } from \"../websocket/websocket\";\r\nimport { getLists } from \"./list.actions\";\r\n\r\nexport const registration = async (email, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}api/user/registration`, {\r\n      email,\r\n      password,\r\n    });\r\n    alert(response.data.message);\r\n  } catch (error) {\r\n    console.log(error);\r\n    console.log(error.response.data.message, \"--error--\");\r\n  }\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.post(`${API_URL}api/user/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      dispatch(hideLoaderAC());\r\n\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n      dispatch(await getLists());\r\n      const wS = new WebSocket(API_URL_WS + 'api/chat/');\r\n      dispatch(setWebsocketAC(wS));\r\n      openWS(wS);\r\n      messageListenerWS(wS);\r\n      onCloseWS(wS);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}api/user/auth`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      dispatch(setUserAC(response.data.user));\r\n      localStorage.setItem(\"token\", response.data.token);\r\n    } catch (e) {\r\n      localStorage.removeItem(\"token\");\r\n      console.log(e, 'auth');\r\n    }\r\n  };\r\n};\r\n\r\nexport const changePassword = (email, password, newPassword) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoaderAC());\r\n      const response = await axios.put(`${API_URL}api/user/changePassword`, {\r\n        email,\r\n        password,\r\n        newPassword\r\n      });\r\n      dispatch(hideLoaderAC());\r\n      alert(response.data.message);\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch(hideLoaderAC());\r\n    }\r\n  };\r\n};\r\n\r\n","import React from \"react\";\r\n\r\nconst OneListRow = (props) => {\r\n  const handleSelectList = () =>\r\n    props.selectList(props.list._id);\r\n  return (\r\n    <p className={`rounded list-of-list mt-1 ${props.nowSelected===props.list._id && 'border'}`}\r\n      style={{ backgroundColor: props.list.color }}\r\n      onClick={() => handleSelectList()}\r\n    >\r\n      {props.list.name}\r\n    </p>\r\n  );\r\n\r\n\r\n};\r\n\r\nexport default OneListRow;","import React from \"react\";\r\nimport OneListRow from \"../Profile/OneListRow\";\r\nclass SharedList extends React.Component {\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      return this.props.getSharedList(this.props.currentUser.id);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.sharedLists.length !==0 && <section>\r\n          <p>Списки других пользователей:</p>\r\n          {this.props.sharedLists.map((list, i) => (\r\n            <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n          )\r\n          )}\r\n      </section>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default SharedList;","import {connect} from 'react-redux';\r\nimport { getList, getSharedList } from '../../http/list.actions';\r\nimport SharedList from './SharedList';\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n  sharedLists: state.listReducer.sharedLists,\r\n  currentUser:state.userReducer.currentUser\r\n\r\n});\r\nconst mapDispatchToProps = dispatch =>{\r\n  return({ \r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n\r\n    \r\n  });\r\n};\r\n\r\nexport const SharedListsCC = connect(mapStateToProps, mapDispatchToProps)(SharedList);","import React, { useState, useEffect  } from \"react\";\r\n\r\n\r\nconst ChangePasswordWindow = (props) => {\r\n  const [password, setPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPasswordDouble, setNewPasswordDouble] = useState('');\r\n  const [submitDisabled, setSubmitDisabled] = useState(false);\r\n\r\n  const checkNewPassword = ()=>{\r\n    if (!!password && !!newPasswordDouble && !!newPassword && (newPasswordDouble === newPassword)) {\r\n      return setSubmitDisabled (true);\r\n    }\r\n    setSubmitDisabled (false); // доделать проверку\r\n  };\r\n  useEffect (()=>checkNewPassword(),[password,newPasswordDouble,newPassword] );\r\n  \r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeChPasForm({ changePasswordFormIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-light p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Сменить пароль</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password\">Старый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password\"\r\n            value={password}\r\n            placeholder=\"Введите cтарый пароль\"\r\n\r\n            onChange={(e) => {setPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password1\">Новый пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"Password1\"\r\n            value={newPassword}\r\n            placeholder=\"Введите новый пароль\"\r\n\r\n            onChange={(e) => {setNewPassword(e.target.value);\r\n              // checkNewPassword();\r\n            }}\r\n          />\r\n                    <input\r\n            type=\"password\"\r\n            className=\"form-control mt-1\"\r\n            id=\"Password2\"\r\n            value={newPasswordDouble}\r\n            placeholder=\"Повторите новый пароль\"\r\n            onChange={(e) => {setNewPasswordDouble(e.target.value);\r\n              // checkNewPassword();\r\n\r\n            }}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          disabled={!submitDisabled}\r\n          onClick={() => {\r\n            props.closeChPasForm({ changePasswordFormIsOpen: false });\r\n            return props.setnewpassword(props.email, password, newPassword);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { ChangePasswordWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst LoginWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ loginWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-info p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <h3 className=\"registration\">Вход</h3>\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={() => {\r\n            props.closeForm({ loginWindowIsOpen: false });\r\n            return props.loginHandler(email, password);\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { LoginWindow };","import React, { useState } from \"react\";\r\n\r\n\r\nconst RegistrationWindow = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <div\r\n      className=\"modal-window d-flex fixed-top justify-content-center align-items-center\"\r\n      onClick={() => props.closeForm({ redistrationWindowIsOpen: false })}\r\n    >\r\n      <form\r\n        className=\"registration__form bg-success p-3\"\r\n        onClick={e => e.stopPropagation()}\r\n\r\n      >\r\n        <h3 className=\"registration\">Регистрация</h3>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Адрес электронной почты</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required={true}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">Мы никогда никому не передадим Вашу электронную почту.</small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required={true}\r\n\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\"\r\n          onClick={(e) => {\r\n            props.closeForm({ redistrationWindowIsOpen: false });\r\n            props.registrationHandler(email, password);\r\n            return e.preventDefault();\r\n          }}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport { RegistrationWindow };","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { registration } from \"../../http/user.action\";\r\nimport { updateUserWS } from \"../../websocket/websocket\";\r\nimport { SharedListsCC } from \"../SharedList/SharedListsCC\";\r\nimport { ChangePasswordWindow } from \"./ChangePasswordWindow\";\r\nimport { LoginWindow } from \"./LoginWindow\";\r\nimport OneListRow from \"./OneListRow\";\r\nimport { RegistrationWindow } from \"./RegistrationWindow\";\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    loginWindowIsOpen: false,\r\n    redistrationWindowIsOpen: false,\r\n    changePasswordFormIsOpen: false,\r\n    shareListForm: false,\r\n    newUserInput:''\r\n  }\r\n  loginHandler(email, password) {\r\n    this.props.login(email, password);\r\n  }\r\n  registrationHandler(email, password) {\r\n    registration(email, password);\r\n  }\r\n  handleSelectList(listId) {\r\n    this.props.getList(listId);\r\n  }\r\n  addNewUser(e){\r\n    e.preventDefault();\r\n    updateUserWS(this.props.ws, this.props.selectedListId, this.state.newUserInput);\r\n    this.setState({newUserInput:''});\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuth) {\r\n      this.props.getSharedList(this.props.userID);\r\n      return this.props.getLists(this.props.userID);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if ((this.props.isAuth !== prevProps.isAuth) && this.props.isAuth) {\r\n      if (localStorage.getItem(\"token\")) {\r\n        this.props.getSharedList(this.props.userID);\r\n        return this.props.getLists(this.props.userID);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  openSendfield(e) {\r\n    e.preventDefault();\r\n    this.setState({ shareListForm: !this.state.shareListForm });\r\n\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"profile d-flex flex-column justify-content-start container-fluid \">\r\n        {this.state.changePasswordFormIsOpen\r\n          && <ChangePasswordWindow\r\n            closeChPasForm={(arg) => this.setState(arg)}\r\n            email={this.props.email}\r\n            setnewpassword={(e, p, newP) => this.props.changePassword(e, p, newP)}\r\n          />}\r\n        {this.props.isAuth\r\n          ?\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md\">\r\n                <div className=\"profile__data d-flex flex-column justify-content-start align-items-start\">\r\n                  <p className=\"profile__email\">Почта : {this.props.email}</p>\r\n                  <button\r\n                    className=\"profile__close btn border border-dark w-md-50 bg-light\"\r\n                    style={{ сolor: this.props.titleColor }}\r\n                    onClick={() => this.setState({ changePasswordFormIsOpen: true })}\r\n\r\n                  >\r\n                    Сменить пароль\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md\">\r\n                <p>Списки покупок:</p>\r\n                {this.props.lists.map((list, i) => (\r\n                  <OneListRow selectList={(arg) => this.handleSelectList(arg)} nowSelected={this.props.selectedListId} list={list} key={i} />\r\n                )\r\n                )}\r\n                <div className=\"container overflow-hidden pb-1\" >\r\n                  <form className={`row profile__form-wrapper ${this.state.shareListForm && 'profile__form-wrapper_active'}`}>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <input className=\"w-100 rounded\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email пользователя...\" value={this.state.newUserInput} onChange={e=>this.setState({newUserInput:e.target.value})}/>\r\n\r\n                    </div>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <button className=\"btn btn-warning w-100 text-center\" onClick={e=>this.addNewUser(e)}>\r\n                        Поделиться\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                  <button\r\n                    disabled={!this.props.selectedListId}\r\n                    className=\"btn btn-warning\"\r\n                    onClick={e => this.openSendfield(e)}\r\n                  >\r\n                    Поделиться списком\r\n                  </button>\r\n                  <SharedListsCC />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\"\r\n            >\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <NavLink\r\n                  to='/'\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                >\r\n                  Закрыть\r\n                </NavLink>\r\n              </div>\r\n\r\n              <div className=\"col-12 col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"profile__close btn \"\r\n                  style={{ backgroundColor: this.props.titleColor }}\r\n                  onClick={() => {\r\n                    this.props.clearLists();\r\n                    this.props.logout();\r\n                    this.props.setListFromStorage();\r\n                    if (this.props.ws) {\r\n                      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\r\n\r\n                    }\r\n                  }\r\n\r\n                  }\r\n                >\r\n                  Выйти из профиля\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n          :\r\n          <div className=\"container-fluid\">\r\n            {this.state.loginWindowIsOpen\r\n              ? <LoginWindow closeForm={(arg) => this.setState(arg)}\r\n                loginHandler={(email, password) => this.loginHandler(email, password)} />\r\n              : null}\r\n            {this.state.redistrationWindowIsOpen\r\n              ? <RegistrationWindow\r\n                closeForm={(arg) => this.setState(arg)}\r\n                registrationHandler={(email, password) => this.registrationHandler(email, password)}\r\n              />\r\n              : null}\r\n            <div className=\"row justify-content-around\">\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-info\"\r\n                  onClick={() => this.setState({ loginWindowIsOpen: true })}\r\n                >\r\n                  Войти\r\n                </button>\r\n              </div>\r\n              <div className=\"col-sm-6 mt-3\">\r\n                <button\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => this.setState({ redistrationWindowIsOpen: true })}\r\n                >\r\n                  Зарегистрироваться\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n        {!this.props.isAuth && <p>Войдите или зарегистрируйтесь, чтобы создать несколько списков</p>}\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport { Profile };","import { connect } from \"react-redux\";\r\nimport { getList, getLists, getSharedList } from \"../../http/list.actions\";\r\nimport { changePassword, login } from \"../../http/user.action\";\r\nimport { clearListsAC } from \"../../redux/listReducer\";\r\nimport { toggleMenuWindowAC } from \"../../redux/menuReducer\";\r\nimport { logoutAC } from \"../../redux/userReducer\";\r\nimport { setListFromStorage } from \"../../utils/clearList\";\r\nimport { Profile } from \"./Profile\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n  isAuth: state.userReducer.isAuth,\r\n  email: state.userReducer.currentUser.email,\r\n  lists: state.listReducer.lists,\r\n  selectedListId:state.titleOfListReduser._id,\r\n  ws: state.chatReducer.ws,\r\n  userID: state.userReducer.currentUser.id,\r\n\r\n\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleMenuWindow: (flag) => dispatch(toggleMenuWindowAC(flag)),\r\n    login: (email, password)=> dispatch(login(email, password)),\r\n    logout: ()=>dispatch(logoutAC()),\r\n    getLists:()=>dispatch(getLists()),\r\n    getList:(listId)=>dispatch(getList(listId)),\r\n    clearLists:()=>dispatch(clearListsAC()),\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    getSharedList : (userID) =>dispatch(getSharedList(userID)),\r\n\r\n    changePassword: (email,password, newPassword) => dispatch(changePassword(email,password, newPassword))\r\n  };\r\n};\r\n\r\nexport const ProfileCC = connect(mapDispatchToState, mapDispatchToProps)(Profile);\r\n","import React from \"react\";\r\n\r\n\r\nclass Spinner extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"spinner__wrapper\">\r\n        <div className=\"spinner-border\" style={{ color: this.props.color, backgroundColor: this.props.color }} role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    );\r\n  };\r\n};\r\n\r\nexport { Spinner };","import { connect } from \"react-redux\";\r\nimport { Spinner } from \"./Spinner\";\r\nconst mapDispatchToState = (state) => ({\r\n  titleColor: state.titleOfListReduser.color,\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  \r\n  };\r\n};\r\nexport const SpinnerCC = connect(mapDispatchToState, mapDispatchToProps)(Spinner);\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { initialState, setAllGroupsAC } from \"../../redux/ItemListReducer\";\r\nimport { clearLocStorage } from \"../../utils/clearList\";\r\n\r\nexport function ClearButton() {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    clearLocStorage();\r\n    dispatch(setAllGroupsAC({groups: initialState.groups, deleted: []})); \r\n  };\r\n    return (\r\n      <button\r\n        className=\"btn btn-warning rounded-circle button-crear-add d-flex \"\r\n        onClick={(e)=>handleClick(e)}\r\n      >\r\n        <svg \r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          width=\"1.5em\" \r\n          height=\"1.5em\" \r\n          fill=\"currentColor\" \r\n          className=\"bi bi-arrow-90deg-left\" \r\n          viewBox=\"0 0 16 16\">\r\n          <path fillRule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\" />\r\n        </svg>\r\n      </button>\r\n    );\r\n  \r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { ListCC } from \"./components/List/ListCC\";\nimport { HeaderCC } from \"./components/Header/HeaderCC\";\nimport { AddButtonCC } from \"./components/AddButton/AddButtonCC\";\nimport { ModalWindowCC } from \"./components/ModalWindow/ModalWindowCC\";\nimport { MenuCC } from \"./components/Menu/MenuCC\";\nimport { MessagesCC } from \"./components/Messages/MessagesCC\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ProfileCC } from \"./components/Profile/ProfileCC\";\nimport { SpinnerCC } from \"./components/Spinner/SpinnerCC\";\nimport { ClearButton } from \"./components/AddButton/ClearButton\";\nimport { firstConnectWS } from \"./websocket/websocket\";\n\nexport default class App extends React.Component {\n  componentDidMount(){\n    if (!this.props.isAuth) {\n      this.props.setListFromStorage();\n    }\n\n    \n    }\n  \n  componentWillUnmount() {\n    if (this.props.ws) {\n      this.props.ws.close(1000, 'ОТКЛЮЧЕНИЕ КЛИЕНТА...');\n\n    }\n    localStorage.removeItem(\"token\");\n    this.props.clearLists();\n  }\n  componentDidUpdate(prevProps){\n    \n    if (!this.props.isAuth) {\n      this.props.clearLists();\n      this.props.setListFromStorage();\n    }\n    prevProps.ws==null && this.props.ws && this.props.ws.readyState === 1 && this.props.listID && firstConnectWS(this.props.ws, this.props.listID, this.props.currentUser.id, this.props.currentUser.email);\n    \n  }\n  // shouldComponentUpdate(nextProps){\n  //   return nextProps.isAuth !== this.props.isAuth;\n  // }\n  render() {\n    return (\n      <div className=\"App mx-auto \">\n        {this.props.loader && <SpinnerCC />}\n        {this.props.isOpenMenu && <MenuCC />}\n        <main className=\"container-sm d-flex flex-column justify-content-between main\">\n          <HeaderCC />\n          <Switch>\n            <Route path=\"/messages\" history={this.props.history}>\n              <MessagesCC />\n            </Route>\n            <Route path=\"/profile\" history={this.props.history}>\n              <ProfileCC />\n            </Route>\n            <Route path=\"/\" history={this.props.history}>\n              <ListCC />\n              <div className={`d-flex justify-content-${this.props.isAuth?'center':'between'} button-add`}>\n                <AddButtonCC />\n                {!this.props.isAuth && <ClearButton />}\n              </div>\n            </Route>\n          </Switch>\n          <footer className=\"d-flex justify-content-end align-items-end footer\">\n            <p className=\"mb-1\">&copy; Балашов Максим</p>\n          </footer>\n        </main>\n        {this.props.isOpen && <ModalWindowCC />}\n      </div>\n    );\n  }\n}\n","import { connect } from \"react-redux\";\r\nimport { toggleWindowConditionAC } from \"./redux/modalWindowReducer\";\r\nimport App from \"./App\";\r\nimport { showMessagesAC } from \"./redux/menuReducer\";\r\nimport { setListFromStorage } from \"./utils/clearList\";\r\nimport { clearListsAC } from \"./redux/listReducer\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isOpen: state.modalWindowReducer.isOpen,\r\n  isOpenMenu: state.menuReducer.isOpenMenu,\r\n  isOpenMessages: state.menuReducer.isOpenMessages,\r\n  loader: state.loaderReducer.loader,\r\n  isAuth:state.userReducer.isAuth,\r\n  ws:state.chatReducer.ws,\r\n  listID: state.titleOfListReduser._id,\r\n  currentUser: state.userReducer.currentUser,\r\n});\r\nconst mapDispatchToProps = dispatch => {\r\n  return ({\r\n    toggleModalWindow: (flag) => {\r\n      dispatch(toggleWindowConditionAC(flag));\r\n    },\r\n    showMessages: (flag) => {\r\n      dispatch(showMessagesAC(flag));\r\n    },\r\n    setListFromStorage: ()=>dispatch(setListFromStorage()),\r\n    clearLists: ()=>dispatch(clearListsAC())\r\n  });\r\n};\r\n\r\nexport const AppCC = connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { AppCC } from \"./AppCC\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { store } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nconst history = createBrowserHistory();\n\n\nReactDOM.render(\n  <Router history={history}>\n    <Provider store={store}>\n      <AppCC />\n    </Provider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}